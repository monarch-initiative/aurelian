{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Aurelian: Agentic Universal Research Engine for Literature, Integration, Annotation, and Navigation","text":""},{"location":"#getting-started","title":"Getting Started","text":""},{"location":"#prerequisites","title":"Prerequisites","text":"<p>Ensure you have the following installed:</p> <ul> <li>Poetry (for managing dependencies)</li> <li>Python 3.11 or later</li> </ul>"},{"location":"#installation","title":"Installation","text":"<ol> <li>Clone the repository: <pre><code>git clone https://github.com/monarch-initiative/aurelian.git\ncd aurelian\n</code></pre></li> <li>Install dependencies: <pre><code>poetry install --extras=gradio\n</code></pre></li> <li>Verify installation: <pre><code>poetry run aurelian --help\n</code></pre></li> </ol>"},{"location":"#setting-up-up-logfire","title":"Setting up up Logfire","text":"<p>Aurelian uses Logfire for logging (an observability platform that  provides logging, tracing, and metrics), which requires  authentication. If you encounter the following error:</p> <pre><code>No Logfire project credentials found.\nYou are not authenticated. Please run `logfire auth` to authenticate.\n</code></pre> <p>Follow these steps:</p> <ol> <li>Authenticate with Logfire: <pre><code>poetry run logfire auth\n</code></pre></li> <li>(Optional) Set a production token: If running in a production environment, set the <code>LOGFIRE_TOKEN</code> environment variable:    <pre><code>export LOGFIRE_TOKEN=your_token_here\n</code></pre></li> </ol>"},{"location":"#getting-an-openai-key","title":"Getting an OpenAI key","text":"<p>In order to use OpenAI models, you'll need an API key. Follow the instructions  here. After you have an OpenAI key, set the environment variable <code>OPENAI_API_KEY</code> to this key, for example like this:</p> <pre><code>export OPENAI_API_KEY=\"your_api_key_here\"\n</code></pre>"},{"location":"#running-aurelian","title":"Running Aurelian","text":"<p>Once authenticated, you can use Aurelian's CLI:</p> <p>Run the mapper tool: <pre><code>poetry run aurelian mapper\n</code></pre></p> <p>For more details, refer to the project documentation.</p>"},{"location":"#troubleshooting","title":"Troubleshooting","text":""},{"location":"cli/","title":"Command Line Interface","text":"<p>Aurelian provides a powerful command-line interface (CLI) for accessing its various agents and utilities. The CLI follows a consistent pattern that allows running agents in either direct query mode or interactive UI mode.</p>"},{"location":"cli/#usage-patterns","title":"Usage Patterns","text":""},{"location":"cli/#ui-mode","title":"UI Mode","text":"<p>To start an agent in UI mode (interactive chat interface):</p> <pre><code>aurelian &lt;agent-name&gt; --ui\n</code></pre> <p>Example: <pre><code>aurelian diagnosis --ui\n</code></pre></p> <p>This starts the Diagnosis agent with a chat interface where you can interactively ask questions.</p>"},{"location":"cli/#direct-query-mode","title":"Direct Query Mode","text":"<p>To run an agent with a direct query and get the response immediately:</p> <pre><code>aurelian &lt;agent-name&gt; \"your query here\"\n</code></pre> <p>Example: <pre><code>aurelian diagnosis \"Patient with hypotonia, seizures, and developmental delay\"\n</code></pre></p> <p>This processes the query directly and prints the result to the console.</p>"},{"location":"cli/#common-options","title":"Common Options","text":"<p>All agent commands support these common options:</p> <ul> <li><code>--model</code>, <code>-m</code>: Specify the model to use for the agent</li> <li><code>--workdir</code>, <code>-w</code>: Set the working directory (default: \"workdir\")</li> <li><code>--share/--no-share</code>: Share the agent UI via public URL (default: no-share)</li> <li><code>--server-port</code>, <code>-p</code>: Set the server port for UI mode (default: 7860)</li> <li><code>--ui/--no-ui</code>: Force UI mode even with a query (default: no-ui)</li> </ul>"},{"location":"cli/#available-agents","title":"Available Agents","text":"<p>Aurelian provides specialized agents for various scientific and biomedical tasks. Each agent can be accessed via its dedicated subcommand:</p> Command Description <code>amigo</code> Gene Ontology and gene product annotations <code>biblio</code> Bibliographic data and citations management <code>checklist</code> Paper evaluation against established checklists <code>chemistry</code> Chemical structure analysis <code>datasheets</code> Extract dataset metadata according to Datasheets for Datasets schema <code>diagnosis</code> Rare disease diagnosis using the Monarch Knowledge Base <code>gocam</code> Gene Ontology Causal Activity Models <code>linkml</code> Data modeling and schema validation <code>literature</code> Scientific publication analysis <code>mapper</code> Ontology mapping and term translation <code>monarch</code> Biomedical knowledge graph exploration <code>phenopackets</code> Standardized phenotype data in GA4GH format <code>rag</code> Retrieval-augmented generation for document collections <code>robot</code> Ontology operations and manipulations <code>ubergraph</code> SPARQL-based ontology queries"},{"location":"cli/#utility-commands","title":"Utility Commands","text":"<p>The CLI also provides several utility commands:</p> Command Description <code>fulltext &lt;pmid&gt;</code> Download full text for a PubMed article <code>websearch &lt;term&gt;</code> Search the web for a query term <code>geturl &lt;url&gt;</code> Retrieve content from a URL <code>search-ontology &lt;ontology&gt; &lt;term&gt;</code> Search an ontology for a term"},{"location":"cli/#full-command-reference","title":"Full Command Reference","text":""},{"location":"cli/#main","title":"main","text":"<p>Main command for Aurelian.</p> <p>Aurelian provides a collection of specialized agents for various scientific and biomedical tasks. Each agent can be run in either direct query mode or UI mode:</p> <ul> <li>Direct query mode: Run the agent with a query (e.g., <code>aurelian diagnosis \"patient with hypotonia\"</code>).</li> <li>UI mode: Run the agent with <code>--ui</code> flag to start a chat interface.</li> </ul> <p>Some agents also provide utility commands for specific operations.</p> <p>:param verbose: Verbosity while running. :param quiet: Boolean to be quiet or verbose.</p> <p>Usage:</p> <pre><code>main [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> <pre><code>  -v, --verbose\n  -q, --quiet TEXT\n  --version         Show the version and exit.\n  --help            Show this message and exit.\n</code></pre>"},{"location":"cli/#amigo","title":"amigo","text":"<p>Start the AmiGO Agent for Gene Ontology data exploration.</p> <p>The AmiGO Agent provides access to the Gene Ontology (GO) and gene  product annotations. It helps users explore gene functions and  ontology relationships.</p> <p>Run with a query for direct mode or with --ui for interactive chat mode.</p> <p>Usage:</p> <pre><code>main amigo [OPTIONS] [QUERY]...\n</code></pre> <p>Options:</p> <pre><code>  -m, --model TEXT           The model to use for the agent.\n  -w, --workdir TEXT         The working directory for the agent.  [default:\n                             workdir]\n  --share / --no-share       Share the agent GradIO UI via URL.  [default: no-\n                             share]\n  -p, --server-port INTEGER  The port to run the UI server on.  [default:\n                             7860]\n  --ui / --no-ui             Start the agent in UI mode instead of direct\n                             query mode.  [default: no-ui]\n  --help                     Show this message and exit.\n</code></pre>"},{"location":"cli/#aria","title":"aria","text":"<p>Start the Checklist UI (deprecated, use 'checklist' instead).</p> <p>Usage:</p> <pre><code>main aria [OPTIONS]\n</code></pre> <p>Options:</p> <pre><code>  -m, --model TEXT           The model to use for the agent.\n  -w, --workdir TEXT         The working directory for the agent.  [default:\n                             workdir]\n  --share / --no-share       Share the agent GradIO UI via URL.  [default: no-\n                             share]\n  -p, --server-port INTEGER  The port to run the UI server on.  [default:\n                             7860]\n  --help                     Show this message and exit.\n</code></pre>"},{"location":"cli/#biblio","title":"biblio","text":"<p>Start the Biblio Agent for bibliographic data management.</p> <p>The Biblio Agent helps organize and search bibliographic data and citations.  It provides tools for searching a bibliography database, retrieving scientific  publications, and accessing web content.</p> <p>Run with a query for direct mode or with --ui for interactive chat mode.</p> <p>Usage:</p> <pre><code>main biblio [OPTIONS] [QUERY]...\n</code></pre> <p>Options:</p> <pre><code>  -m, --model TEXT           The model to use for the agent.\n  -w, --workdir TEXT         The working directory for the agent.  [default:\n                             workdir]\n  --share / --no-share       Share the agent GradIO UI via URL.  [default: no-\n                             share]\n  -p, --server-port INTEGER  The port to run the UI server on.  [default:\n                             7860]\n  --ui / --no-ui             Start the agent in UI mode instead of direct\n                             query mode.  [default: no-ui]\n  --help                     Show this message and exit.\n</code></pre>"},{"location":"cli/#checklist","title":"checklist","text":"<p>Start the Checklist Agent for paper evaluation.</p> <p>The Checklist Agent evaluates scientific papers against established checklists  such as STREAMS, STORMS, and ARRIVE. It helps ensure that papers conform to  relevant reporting guidelines and best practices.</p> <p>Run with a query for direct mode or with --ui for interactive chat mode.</p> <p>Usage:</p> <pre><code>main checklist [OPTIONS] [QUERY]...\n</code></pre> <p>Options:</p> <pre><code>  -m, --model TEXT           The model to use for the agent.\n  -w, --workdir TEXT         The working directory for the agent.  [default:\n                             workdir]\n  --share / --no-share       Share the agent GradIO UI via URL.  [default: no-\n                             share]\n  -p, --server-port INTEGER  The port to run the UI server on.  [default:\n                             7860]\n  --ui / --no-ui             Start the agent in UI mode instead of direct\n                             query mode.  [default: no-ui]\n  --help                     Show this message and exit.\n</code></pre>"},{"location":"cli/#chemistry","title":"chemistry","text":"<p>Start the Chemistry Agent for chemical structure analysis.</p> <p>The Chemistry Agent helps interpret and work with chemical structures, formulas, and related information.</p> <p>Run with a query for direct mode or with --ui for interactive chat mode.</p> <p>Usage:</p> <pre><code>main chemistry [OPTIONS] [QUERY]...\n</code></pre> <p>Options:</p> <pre><code>  -m, --model TEXT           The model to use for the agent.\n  -w, --workdir TEXT         The working directory for the agent.  [default:\n                             workdir]\n  --share / --no-share       Share the agent GradIO UI via URL.  [default: no-\n                             share]\n  -p, --server-port INTEGER  The port to run the UI server on.  [default:\n                             7860]\n  --ui / --no-ui             Start the agent in UI mode instead of direct\n                             query mode.  [default: no-ui]\n  --help                     Show this message and exit.\n</code></pre>"},{"location":"cli/#datasheets","title":"datasheets","text":"<p>Start the Datasheets for Datasets (D4D) Agent.</p> <p>The D4D Agent extracts structured metadata from dataset documentation according to the Datasheets for Datasets schema. It can analyze both  web pages and PDF documents describing datasets.</p> <p>Run with a URL for direct mode or with --ui for interactive chat mode.</p> <p>Usage:</p> <pre><code>main datasheets [OPTIONS] [URL]\n</code></pre> <p>Options:</p> <pre><code>  -m, --model TEXT           The model to use for the agent.\n  -w, --workdir TEXT         The working directory for the agent.  [default:\n                             workdir]\n  --share / --no-share       Share the agent GradIO UI via URL.  [default: no-\n                             share]\n  -p, --server-port INTEGER  The port to run the UI server on.  [default:\n                             7860]\n  --ui / --no-ui             Start the agent in UI mode instead of direct\n                             query mode.  [default: no-ui]\n  --help                     Show this message and exit.\n</code></pre>"},{"location":"cli/#diagnosis","title":"diagnosis","text":"<p>Start the Diagnosis Agent for rare disease diagnosis.</p> <p>The Diagnosis Agent assists in diagnosing rare diseases by leveraging the  Monarch Knowledge Base. It helps clinical geneticists evaluate potential  conditions based on patient phenotypes.</p> <p>Run with a query for direct mode or with --ui for interactive chat mode.</p> <p>Usage:</p> <pre><code>main diagnosis [OPTIONS] [QUERY]...\n</code></pre> <p>Options:</p> <pre><code>  -m, --model TEXT           The model to use for the agent.\n  -w, --workdir TEXT         The working directory for the agent.  [default:\n                             workdir]\n  --share / --no-share       Share the agent GradIO UI via URL.  [default: no-\n                             share]\n  -p, --server-port INTEGER  The port to run the UI server on.  [default:\n                             7860]\n  --ui / --no-ui             Start the agent in UI mode instead of direct\n                             query mode.  [default: no-ui]\n  --help                     Show this message and exit.\n</code></pre>"},{"location":"cli/#fulltext","title":"fulltext","text":"<p>Download full text for a PubMed article.</p> <p>Usage:</p> <pre><code>main fulltext [OPTIONS] PMID\n</code></pre> <p>Options:</p> <pre><code>  --help  Show this message and exit.\n</code></pre>"},{"location":"cli/#geturl","title":"geturl","text":"<p>Retrieve content from a URL.</p> <p>Usage:</p> <pre><code>main geturl [OPTIONS] URL\n</code></pre> <p>Options:</p> <pre><code>  --help  Show this message and exit.\n</code></pre>"},{"location":"cli/#gocam","title":"gocam","text":"<p>Start the GO-CAM Agent for gene ontology causal activity models.</p> <p>The GO-CAM Agent helps create and analyze Gene Ontology Causal Activity Models, which describe biological systems as molecular activities connected by causal  relationships. </p> <p>Run with a query for direct mode or with --ui for interactive chat mode.</p> <p>Usage:</p> <pre><code>main gocam [OPTIONS] [QUERY]...\n</code></pre> <p>Options:</p> <pre><code>  -m, --model TEXT           The model to use for the agent.\n  -w, --workdir TEXT         The working directory for the agent.  [default:\n                             workdir]\n  --share / --no-share       Share the agent GradIO UI via URL.  [default: no-\n                             share]\n  -p, --server-port INTEGER  The port to run the UI server on.  [default:\n                             7860]\n  --ui / --no-ui             Start the agent in UI mode instead of direct\n                             query mode.  [default: no-ui]\n  --help                     Show this message and exit.\n</code></pre>"},{"location":"cli/#gocam-ui","title":"gocam-ui","text":"<p>Start the GO-CAM UI (non-chat interface).</p> <p>Usage:</p> <pre><code>main gocam-ui [OPTIONS]\n</code></pre> <p>Options:</p> <pre><code>  --help  Show this message and exit.\n</code></pre>"},{"location":"cli/#linkml","title":"linkml","text":"<p>Start the LinkML Agent for data modeling and schema validation.</p> <p>The LinkML Agent helps create and validate data models and schemas using the  Linked data Modeling Language (LinkML). It can assist in generating schemas, validating data against schemas, and modeling domain knowledge.</p> <p>Run with a query for direct mode or with --ui for interactive chat mode.</p> <p>Usage:</p> <pre><code>main linkml [OPTIONS] [QUERY]...\n</code></pre> <p>Options:</p> <pre><code>  -m, --model TEXT           The model to use for the agent.\n  -w, --workdir TEXT         The working directory for the agent.  [default:\n                             workdir]\n  --share / --no-share       Share the agent GradIO UI via URL.  [default: no-\n                             share]\n  -p, --server-port INTEGER  The port to run the UI server on.  [default:\n                             7860]\n  --ui / --no-ui             Start the agent in UI mode instead of direct\n                             query mode.  [default: no-ui]\n  --help                     Show this message and exit.\n</code></pre>"},{"location":"cli/#literature","title":"literature","text":"<p>Start the Literature Agent for scientific publication analysis.</p> <p>The Literature Agent provides tools for analyzing scientific publications, extracting key information, and answering questions about research articles.</p> <p>Run with a query for direct mode or with --ui for interactive chat mode.</p> <p>Usage:</p> <pre><code>main literature [OPTIONS] [QUERY]...\n</code></pre> <p>Options:</p> <pre><code>  -m, --model TEXT           The model to use for the agent.\n  -w, --workdir TEXT         The working directory for the agent.  [default:\n                             workdir]\n  --share / --no-share       Share the agent GradIO UI via URL.  [default: no-\n                             share]\n  -p, --server-port INTEGER  The port to run the UI server on.  [default:\n                             7860]\n  --ui / --no-ui             Start the agent in UI mode instead of direct\n                             query mode.  [default: no-ui]\n  --help                     Show this message and exit.\n</code></pre>"},{"location":"cli/#mapper","title":"mapper","text":"<p>Start the Ontology Mapper Agent for mapping between ontologies.</p> <p>The Ontology Mapper Agent helps translate terms between different ontologies and vocabularies. It can find equivalent concepts across ontologies and  explain relationships.</p> <p>Run with a query for direct mode or with --ui for interactive chat mode.</p> <p>Usage:</p> <pre><code>main mapper [OPTIONS] [QUERY]...\n</code></pre> <p>Options:</p> <pre><code>  -m, --model TEXT           The model to use for the agent.\n  -w, --workdir TEXT         The working directory for the agent.  [default:\n                             workdir]\n  --share / --no-share       Share the agent GradIO UI via URL.  [default: no-\n                             share]\n  -p, --server-port INTEGER  The port to run the UI server on.  [default:\n                             7860]\n  --ui / --no-ui             Start the agent in UI mode instead of direct\n                             query mode.  [default: no-ui]\n  -i, --ontologies TEXT      Comma-separated list of ontologies to use for the\n                             agent.\n  --help                     Show this message and exit.\n</code></pre>"},{"location":"cli/#monarch","title":"monarch","text":"<p>Start the Monarch Agent for biomedical knowledge exploration.</p> <p>The Monarch Agent provides access to relationships between genes, diseases,  phenotypes, and other biomedical entities through the Monarch Knowledge Base.</p> <p>Run with a query for direct mode or with --ui for interactive chat mode.</p> <p>Usage:</p> <pre><code>main monarch [OPTIONS] [QUERY]...\n</code></pre> <p>Options:</p> <pre><code>  -m, --model TEXT           The model to use for the agent.\n  -w, --workdir TEXT         The working directory for the agent.  [default:\n                             workdir]\n  --share / --no-share       Share the agent GradIO UI via URL.  [default: no-\n                             share]\n  -p, --server-port INTEGER  The port to run the UI server on.  [default:\n                             7860]\n  --ui / --no-ui             Start the agent in UI mode instead of direct\n                             query mode.  [default: no-ui]\n  --help                     Show this message and exit.\n</code></pre>"},{"location":"cli/#phenopackets","title":"phenopackets","text":"<p>Start the Phenopackets Agent for standardized phenotype data.</p> <p>The Phenopackets Agent helps work with GA4GH Phenopackets, a standard  format for sharing disease and phenotype information for genomic  medicine.</p> <p>Run with a query for direct mode or with --ui for interactive chat mode.</p> <p>Usage:</p> <pre><code>main phenopackets [OPTIONS] [QUERY]...\n</code></pre> <p>Options:</p> <pre><code>  -m, --model TEXT           The model to use for the agent.\n  -w, --workdir TEXT         The working directory for the agent.  [default:\n                             workdir]\n  --share / --no-share       Share the agent GradIO UI via URL.  [default: no-\n                             share]\n  -p, --server-port INTEGER  The port to run the UI server on.  [default:\n                             7860]\n  --ui / --no-ui             Start the agent in UI mode instead of direct\n                             query mode.  [default: no-ui]\n  --help                     Show this message and exit.\n</code></pre>"},{"location":"cli/#rag","title":"rag","text":"<p>Start the RAG Agent for document retrieval and generation.</p> <p>The RAG (Retrieval-Augmented Generation) Agent provides a natural language  interface for exploring and searching document collections. It uses RAG  techniques to combine search capabilities with generative AI.</p> <p>Run with a query for direct mode or with --ui for interactive chat mode.</p> <p>Usage:</p> <pre><code>main rag [OPTIONS] [QUERY]...\n</code></pre> <p>Options:</p> <pre><code>  -m, --model TEXT            The model to use for the agent.\n  -w, --workdir TEXT          The working directory for the agent.  [default:\n                              workdir]\n  --share / --no-share        Share the agent GradIO UI via URL.  [default:\n                              no-share]\n  -p, --server-port INTEGER   The port to run the UI server on.  [default:\n                              7860]\n  --ui / --no-ui              Start the agent in UI mode instead of direct\n                              query mode.  [default: no-ui]\n  -d, --db-path TEXT          The path to the database.\n  -c, --collection-name TEXT  The name of the collection.\n  --help                      Show this message and exit.\n</code></pre>"},{"location":"cli/#robot","title":"robot","text":"<p>Start the ROBOT Agent for ontology operations.</p> <p>The ROBOT Agent provides natural language access to ontology operations  and manipulations using the ROBOT tool. It can create, modify, and analyze ontologies through a chat interface.</p> <p>Run with a query for direct mode or with --ui for interactive chat mode.</p> <p>Usage:</p> <pre><code>main robot [OPTIONS] [QUERY]...\n</code></pre> <p>Options:</p> <pre><code>  -m, --model TEXT           The model to use for the agent.\n  -w, --workdir TEXT         The working directory for the agent.  [default:\n                             workdir]\n  --share / --no-share       Share the agent GradIO UI via URL.  [default: no-\n                             share]\n  -p, --server-port INTEGER  The port to run the UI server on.  [default:\n                             7860]\n  --ui / --no-ui             Start the agent in UI mode instead of direct\n                             query mode.  [default: no-ui]\n  --help                     Show this message and exit.\n</code></pre>"},{"location":"cli/#search-ontology","title":"search-ontology","text":"<p>Search the ontology for the given query term.</p> <p>Also has side effect of indexing. You may want to pre-index before starting an individual UI.</p> <p>Usage:</p> <pre><code>main search-ontology [OPTIONS] ONTOLOGY TERM\n</code></pre> <p>Options:</p> <pre><code>  -l, --limit INTEGER  Number of results to return.  [default: 10]\n  --help               Show this message and exit.\n</code></pre>"},{"location":"cli/#ubergraph","title":"ubergraph","text":"<p>Start the UberGraph Agent for SPARQL-based ontology queries.</p> <p>The UberGraph Agent provides a natural language interface to query ontologies  using SPARQL through the UberGraph endpoint. It helps users formulate and execute SPARQL queries without needing to know the full SPARQL syntax.</p> <p>Run with a query for direct mode or with --ui for interactive chat mode.</p> <p>Usage:</p> <pre><code>main ubergraph [OPTIONS] [QUERY]...\n</code></pre> <p>Options:</p> <pre><code>  -m, --model TEXT           The model to use for the agent.\n  -w, --workdir TEXT         The working directory for the agent.  [default:\n                             workdir]\n  --share / --no-share       Share the agent GradIO UI via URL.  [default: no-\n                             share]\n  -p, --server-port INTEGER  The port to run the UI server on.  [default:\n                             7860]\n  --ui / --no-ui             Start the agent in UI mode instead of direct\n                             query mode.  [default: no-ui]\n  --help                     Show this message and exit.\n</code></pre>"},{"location":"cli/#websearch","title":"websearch","text":"<p>Search the web for a query term.</p> <p>Usage:</p> <pre><code>main websearch [OPTIONS] TERM\n</code></pre> <p>Options:</p> <pre><code>  --help  Show this message and exit.\n</code></pre>"},{"location":"mcp/","title":"Model Context Protocol (MCP) Integration","text":"<p>This document describes how to set up and use Model Context Protocol (MCP) with Aurelian agents.</p>"},{"location":"mcp/#what-is-mcp","title":"What is MCP?","text":"<p>MCP (Model Context Protocol) is an open protocol that standardizes how applications provide context to LLMs. It works like a \"USB-C port for AI applications,\" providing a standardized way to connect AI models to different data sources and tools.</p>"},{"location":"mcp/#key-benefits","title":"Key benefits:","text":"<ul> <li>Connect LLMs to pre-built integrations with a standard protocol</li> <li>Flexibility to switch between LLM providers</li> <li>Secure your data within your infrastructure</li> <li>Enable complex agent workflows</li> </ul>"},{"location":"mcp/#setting-up-mcp-servers-for-aurelian","title":"Setting Up MCP Servers for Aurelian","text":"<p>Aurelian provides MCP server implementations for several of its agents. You can use these servers to expose Aurelian's capabilities to any MCP-compatible client (such as Claude).</p>"},{"location":"mcp/#configuration-options","title":"Configuration Options","text":"<p>You can configure MCP servers in two ways:</p> <ol> <li>Manual Configuration: Create the full JSON configuration directly</li> <li>Generated Configuration: Use the provided config generator script</li> </ol>"},{"location":"mcp/#option-1-manual-configuration","title":"Option 1: Manual Configuration","text":"<p>Create a file named <code>mcp-config.json</code> with your server configurations:</p> <pre><code>{\n  \"mcpServers\": {\n    \"memory\": {\n      \"command\": \"npx\",\n      \"args\": [\n        \"-y\",\n        \"@modelcontextprotocol/server-memory\"\n      ],\n      \"env\": {\n        \"MEMORY_FILE_PATH\": \"~/.mcp/memory.json\"\n      }\n    },\n    \"linkml\": {\n      \"command\": \"python\",\n      \"args\": [\n        \"/path/to/aurelian/src/aurelian/agents/linkml/linkml_mcp.py\"\n      ],\n      \"env\": {\n        \"AURELIAN_WORKDIR\": \"/tmp/linkml\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"mcp/#option-2-generated-configuration","title":"Option 2: Generated Configuration","text":"<ol> <li>Create a simplified configuration file (e.g., <code>simple-config.json</code>):</li> </ol> <pre><code>{\n  \"memory\": {\n    \"type\": \"memory\",\n    \"memory_path\": \"~/.mcp/memory.json\"\n  },\n  \"linkml\": {\n    \"type\": \"linkml\",\n    \"workdir\": \"/tmp/linkml\",\n    \"python_path\": \"/usr/bin/python\"\n  }\n}\n</code></pre> <ol> <li>Generate the full configuration:</li> </ol> <pre><code>python src/aurelian/mcp/config_generator.py --config simple-config.json --output mcp-config.json --base-dir /path/to/aurelian\n</code></pre>"},{"location":"mcp/#available-agent-servers","title":"Available Agent Servers","text":"<p>Aurelian provides the following MCP servers:</p> Server Name Type Description linkml Agent LinkML schema validation and data modeling gocam Agent Gene Ontology Causal Activity Models phenopackets Agent Working with phenotype data in Phenopacket format robot Agent Ontology manipulation with ROBOT amigo Agent Gene Ontology and gene associations uniprot Agent UniProt protein information diagnosis Agent Disease diagnosis with Monarch Knowledge Graph memory Utility Persistent memory for MCP interactions"},{"location":"mcp/#configuration-parameters","title":"Configuration Parameters","text":""},{"location":"mcp/#common-parameters-for-agent-servers","title":"Common Parameters for Agent Servers","text":"<ul> <li><code>type</code>: The agent type (e.g., \"linkml\", \"gocam\")</li> <li><code>workdir</code>: Directory for the agent to store files (default: <code>/tmp/{agent_type}</code>)</li> <li><code>python_path</code>: Path to Python executable (default: <code>/usr/bin/python</code>)</li> <li><code>email</code>: Email address for services that require it (optional)</li> <li><code>doi_urls</code>: DOI URL pattern for literature-related agents (optional)</li> <li><code>env</code>: Additional environment variables (optional)</li> </ul>"},{"location":"mcp/#memory-server-parameters","title":"Memory Server Parameters","text":"<ul> <li><code>type</code>: Always \"memory\"</li> <li><code>memory_path</code>: Path to store memory file (default: <code>~/.mcp/memory.json</code>)</li> </ul>"},{"location":"mcp/#custom-server-parameters","title":"Custom Server Parameters","text":"<ul> <li><code>type</code>: \"custom\"</li> <li><code>command</code>: Executable command</li> <li><code>args</code>: List of command arguments</li> <li><code>env</code>: Environment variables dictionary</li> </ul>"},{"location":"mcp/#running-mcp-with-claude","title":"Running MCP with Claude","text":"<ol> <li>Install the MCP CLI:</li> </ol> <pre><code>npm install -g @modelcontextprotocol/cli\n</code></pre> <ol> <li>Start the MCP servers:</li> </ol> <pre><code>mcp start --config mcp-config.json\n</code></pre> <ol> <li> <p>Open Claude and ensure MCP is enabled in settings</p> </li> <li> <p>In Claude, you can now interact with your Aurelian agents through MCP</p> </li> </ol>"},{"location":"mcp/#example-use-cases","title":"Example Use Cases","text":"<ul> <li>LinkML Validation: Use Claude to validate data against LinkML schemas</li> <li>Ontology Management: Create and manipulate ontologies through natural language</li> <li>Gene Association Analysis: Ask questions about gene functions and associations</li> <li>Phenotype Analysis: Work with structured phenotype data</li> </ul>"},{"location":"mcp/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>Ensure the correct Python environment is activated for each server</li> <li>Check server logs for errors by running <code>mcp logs</code></li> <li>Verify paths in your configuration are correct and accessible</li> <li>Ensure required environment variables are set properly</li> </ul>"},{"location":"agents/amigo_agent/","title":"AmiGO Agent","text":"<p>The AmiGO Agent provides a natural language interface to the Gene Ontology (GO) through the AmiGO service. It helps users search for GO terms, retrieve information about genes and their functions, and explore relationships between biological processes, molecular functions, and cellular components.</p>"},{"location":"agents/amigo_agent/#features","title":"Features","text":"<ul> <li>Search for GO terms using natural language queries</li> <li>Retrieve detailed information about specific genes</li> <li>Explore GO annotations for genes of interest</li> <li>Find relationships between biological processes, molecular functions, and cellular components</li> <li>Access GO term definitions and hierarchies</li> </ul>"},{"location":"agents/amigo_agent/#usage","title":"Usage","text":""},{"location":"agents/amigo_agent/#python-api","title":"Python API","text":"<pre><code>from aurelian.agents.amigo import amigo_agent, get_config\n\n# Initialize dependencies\ndeps = get_config()\n\n# Query information about a gene\nresult = await amigo_agent.run(\n    \"Tell me about the function of the TP53 gene\",\n    deps=deps\n)\n\n# Get the response\nprint(result.data)\n</code></pre>"},{"location":"agents/amigo_agent/#command-line-interface","title":"Command Line Interface","text":"<pre><code>aurelian amigo \"Tell me about the function of the TP53 gene\"\n</code></pre>"},{"location":"agents/amigo_agent/#gradio-interface","title":"Gradio Interface","text":"<pre><code>from aurelian.agents.amigo import chat\n\n# Launch Gradio interface\ninterface = chat()\ninterface.launch()\n</code></pre>"},{"location":"agents/amigo_agent/#tools","title":"Tools","text":"<p>The AmiGO Agent provides the following tools:</p>"},{"location":"agents/amigo_agent/#search_go_terms","title":"search_go_terms","text":"<p>Searches the Gene Ontology for terms matching a query string.</p>"},{"location":"agents/amigo_agent/#search_genes","title":"search_genes","text":"<p>Searches for genes by name, symbol, or description.</p>"},{"location":"agents/amigo_agent/#get_go_term_info","title":"get_go_term_info","text":"<p>Retrieves detailed information about a specific GO term.</p>"},{"location":"agents/amigo_agent/#get_gene_info","title":"get_gene_info","text":"<p>Retrieves detailed information about a specific gene.</p>"},{"location":"agents/amigo_agent/#examples","title":"Examples","text":""},{"location":"agents/amigo_agent/#example-1-searching-for-a-go-term","title":"Example 1: Searching for a GO term","text":"<pre><code>What GO terms are related to apoptosis?\n</code></pre>"},{"location":"agents/amigo_agent/#example-2-getting-information-about-a-gene","title":"Example 2: Getting information about a gene","text":"<pre><code>Tell me about the function of the TP53 gene\n</code></pre>"},{"location":"agents/amigo_agent/#example-3-exploring-relationships-between-go-terms","title":"Example 3: Exploring relationships between GO terms","text":"<pre><code>What is the relationship between DNA repair and cell cycle?\n</code></pre>"},{"location":"agents/biblio_agent/","title":"Biblio Agent","text":"<p>The Biblio Agent helps organize and search bibliographic data and citations. It provides tools for searching a bibliography database, retrieving scientific publications, and accessing web content.</p>"},{"location":"agents/biblio_agent/#features","title":"Features","text":"<ul> <li>Search a bibliography database for relevant entries</li> <li>Retrieve publication content using PubMed IDs</li> <li>Search the web for additional information</li> <li>Retrieve web page content for detailed analysis</li> <li>Format results with bioregistry links and markdown tables</li> </ul>"},{"location":"agents/biblio_agent/#usage","title":"Usage","text":""},{"location":"agents/biblio_agent/#python-api","title":"Python API","text":"<pre><code>from aurelian.agents.biblio import biblio_agent, get_config\n\n# Initialize dependencies\ndeps = get_config()\n\n# Search for publications about a specific topic\nresult = await biblio_agent.run(\n    \"What patients have liver disease?\",\n    deps=deps\n)\n\n# Get the search results\nprint(result.data)\n</code></pre>"},{"location":"agents/biblio_agent/#command-line-interface","title":"Command Line Interface","text":"<pre><code>aurelian biblio \"What patients have liver disease?\"\n</code></pre>"},{"location":"agents/biblio_agent/#gradio-interface","title":"Gradio Interface","text":"<pre><code>from aurelian.agents.biblio import chat\n\n# Launch Gradio interface\ninterface = chat()\ninterface.launch()\n</code></pre>"},{"location":"agents/biblio_agent/#tools","title":"Tools","text":"<p>The Biblio Agent provides the following tools:</p>"},{"location":"agents/biblio_agent/#search_bibliography","title":"search_bibliography","text":"<p>Performs a retrieval search over the biblio database. The query can be any text, such as the name of a disease, phenotype, gene, etc.</p>"},{"location":"agents/biblio_agent/#lookup_pmid","title":"lookup_pmid","text":"<p>Retrieves the full text or abstract of a publication using its PubMed ID (format: \"PMID:nnnnnnn\").</p>"},{"location":"agents/biblio_agent/#search_web","title":"search_web","text":"<p>Searches the web using a text query and returns matching web pages with summaries.</p>"},{"location":"agents/biblio_agent/#retrieve_web_page","title":"retrieve_web_page","text":"<p>Fetches the contents of a specific web page.</p>"},{"location":"agents/biblio_agent/#examples","title":"Examples","text":""},{"location":"agents/biblio_agent/#example-1-searching-for-publications-about-a-specific-disease","title":"Example 1: Searching for publications about a specific disease","text":"<pre><code>What patients have liver disease?\n</code></pre>"},{"location":"agents/biblio_agent/#example-2-searching-for-publications-involving-specific-genes","title":"Example 2: Searching for publications involving specific genes","text":"<pre><code>What biblio involve genes from metabolic pathways?\n</code></pre>"},{"location":"agents/biblio_agent/#example-3-analyzing-genotype-phenotype-relationships","title":"Example 3: Analyzing genotype-phenotype relationships","text":"<pre><code>How does the type of variant affect phenotype in peroxisomal disorders?\n</code></pre>"},{"location":"agents/biblio_agent/#example-4-examining-publications-on-a-specific-condition","title":"Example 4: Examining publications on a specific condition","text":"<pre><code>Examine biblio for skeletal dysplasias, check them against publications\n</code></pre>"},{"location":"agents/checklist_agent/","title":"Checklist Agent","text":"<p>The Checklist Agent evaluates scientific papers against established checklists such as STREAMS, STORMS, and ARRIVE. It helps ensure that papers conform to relevant reporting guidelines and best practices.</p>"},{"location":"agents/checklist_agent/#features","title":"Features","text":"<ul> <li>Automatic selection of appropriate checklists based on paper content</li> <li>Detailed evaluation of papers against each checklist item</li> <li>Support for PubMed IDs and DOIs for paper retrieval</li> <li>Provides PASS/FAIL/OTHER evaluations with explanations for each checklist item</li> <li>Returns results as a structured markdown table</li> </ul>"},{"location":"agents/checklist_agent/#usage","title":"Usage","text":""},{"location":"agents/checklist_agent/#python-api","title":"Python API","text":"<pre><code>from aurelian.agents.checklist import checklist_agent, get_config\n\n# Initialize dependencies\ndeps = get_config()\n\n# Evaluate a paper against a specific checklist\nresult = await checklist_agent.run(\n    \"Evaluate https://journals.asm.org/doi/10.1128/mra.01361-19 using STREAMS\",\n    deps=deps\n)\n\n# Get the evaluation results\nprint(result.data)\n</code></pre>"},{"location":"agents/checklist_agent/#command-line-interface","title":"Command Line Interface","text":"<pre><code>aurelian checklist \"Evaluate https://journals.asm.org/doi/10.1128/mra.01361-19 using STREAMS\"\n</code></pre>"},{"location":"agents/checklist_agent/#gradio-interface","title":"Gradio Interface","text":"<pre><code>from aurelian.agents.checklist import chat\n\n# Launch Gradio interface\ninterface = chat()\ninterface.launch()\n</code></pre>"},{"location":"agents/checklist_agent/#tools","title":"Tools","text":"<p>The Checklist Agent provides the following tools:</p>"},{"location":"agents/checklist_agent/#retrieve_text_from_pmid","title":"retrieve_text_from_pmid","text":"<p>Retrieves the full text or abstract of a paper using its PubMed ID.</p>"},{"location":"agents/checklist_agent/#retrieve_text_from_doi","title":"retrieve_text_from_doi","text":"<p>Retrieves the full text or abstract of a paper using its DOI.</p>"},{"location":"agents/checklist_agent/#fetch_checklist","title":"fetch_checklist","text":"<p>Retrieves a specific checklist by ID (e.g., STREAMS, STORMS, ARRIVE).</p>"},{"location":"agents/checklist_agent/#available-checklists","title":"Available Checklists","text":"<p>The agent supports various checklists for different types of scientific papers:</p> <ul> <li>STREAMS: Standards for Reporting Engineered Mammalian Systems</li> <li>STORMS: STrengthening the Reporting Of Molecular Simulations</li> <li>ARRIVE: Animal Research: Reporting of In Vivo Experiments</li> </ul>"},{"location":"agents/checklist_agent/#examples","title":"Examples","text":""},{"location":"agents/checklist_agent/#example-1-evaluating-a-paper-using-streams","title":"Example 1: Evaluating a paper using STREAMS","text":"<pre><code>Evaluate https://journals.asm.org/doi/10.1128/mra.01361-19 using STREAMS\n</code></pre>"},{"location":"agents/checklist_agent/#example-2-evaluating-a-paper-with-automatic-checklist-selection","title":"Example 2: Evaluating a paper with automatic checklist selection","text":"<pre><code>Check the paper 'Exploration of the Biosynthetic Potential of the Populus Microbiome' https://journals.asm.org/doi/10.1128/msystems.00045-18\n</code></pre>"},{"location":"agents/chemistry_agent/","title":"Chemistry Agent","text":"<p>The Chemistry Agent provides a natural language interface for working with chemical structures, reactions, and molecular properties. It can process SMILES strings, render chemical structures, calculate molecular properties, and assist with chemical analysis tasks.</p>"},{"location":"agents/chemistry_agent/#features","title":"Features","text":"<ul> <li>Process SMILES strings and render molecular structures</li> <li>Calculate common molecular properties and descriptors</li> <li>Convert between different chemical formats</li> <li>Search for chemical compounds by name or structure</li> <li>Analyze chemical reactions and transformations</li> <li>Generate high-quality visualizations of molecules</li> </ul>"},{"location":"agents/chemistry_agent/#usage","title":"Usage","text":""},{"location":"agents/chemistry_agent/#python-api","title":"Python API","text":"<pre><code>from aurelian.agents.chemistry import chemistry_agent, get_config\n\n# Initialize dependencies\ndeps = get_config()\n\n# Process a chemical query\nresult = await chemistry_agent.run(\n    \"Draw the structure of caffeine and calculate its molecular weight\",\n    deps=deps\n)\n\n# Get the analysis results\nprint(result.data)\n</code></pre>"},{"location":"agents/chemistry_agent/#command-line-interface","title":"Command Line Interface","text":"<pre><code>aurelian chemistry \"Draw the structure of caffeine and calculate its molecular weight\"\n</code></pre>"},{"location":"agents/chemistry_agent/#gradio-interface","title":"Gradio Interface","text":"<pre><code>from aurelian.agents.chemistry import chat\n\n# Launch Gradio interface\ninterface = chat()\ninterface.launch()\n</code></pre>"},{"location":"agents/chemistry_agent/#tools","title":"Tools","text":"<p>The Chemistry Agent provides the following tools:</p>"},{"location":"agents/chemistry_agent/#process_smiles","title":"process_smiles","text":"<p>Processes a SMILES string to generate a molecular structure and calculate basic properties.</p>"},{"location":"agents/chemistry_agent/#draw_molecule","title":"draw_molecule","text":"<p>Creates a visual representation of a molecule from its SMILES string.</p>"},{"location":"agents/chemistry_agent/#calculate_descriptors","title":"calculate_descriptors","text":"<p>Calculates detailed molecular descriptors and properties for a given molecule.</p>"},{"location":"agents/chemistry_agent/#search_pubchem","title":"search_pubchem","text":"<p>Searches PubChem for compounds matching a name or partial structure.</p>"},{"location":"agents/chemistry_agent/#examples","title":"Examples","text":""},{"location":"agents/chemistry_agent/#example-1-analyzing-a-molecule","title":"Example 1: Analyzing a molecule","text":"<pre><code>Draw the structure of aspirin and calculate its molecular weight\n</code></pre>"},{"location":"agents/chemistry_agent/#example-2-converting-chemical-representations","title":"Example 2: Converting chemical representations","text":"<pre><code>Convert \"caffeine\" to a SMILES string\n</code></pre>"},{"location":"agents/chemistry_agent/#example-3-comparing-molecules","title":"Example 3: Comparing molecules","text":"<pre><code>Compare the structures and properties of ibuprofen and paracetamol\n</code></pre>"},{"location":"agents/d4d_agent/","title":"D4D Agent (Datasheets for Datasets)","text":"<p>The D4D Agent (Datasheets for Datasets) extracts structured metadata from dataset documentation according to the Datasheets for Datasets schema. It can analyze both web pages and PDF documents describing datasets and generate standardized YAML metadata.</p>"},{"location":"agents/d4d_agent/#features","title":"Features","text":"<ul> <li>Extracts metadata from web pages describing datasets</li> <li>Processes PDF documentation with text extraction</li> <li>Generates structured metadata in YAML format</li> <li>Follows the comprehensive Datasheets for Datasets schema</li> <li>Auto-detection of document type (web page or PDF)</li> </ul>"},{"location":"agents/d4d_agent/#usage","title":"Usage","text":""},{"location":"agents/d4d_agent/#python-api","title":"Python API","text":"<pre><code>from aurelian.agents.d4d import data_sheets_agent, get_config\n\n# Initialize dependencies\ndeps = get_config()\n\n# Extract metadata from a dataset web page\nresult = await data_sheets_agent.run(\n    \"https://fairhub.io/datasets/2\",\n    deps=deps\n)\n\n# Get the YAML metadata\nprint(result.data)\n</code></pre>"},{"location":"agents/d4d_agent/#command-line-interface","title":"Command Line Interface","text":"<pre><code>aurelian datasheets \"https://fairhub.io/datasets/2\"\n</code></pre>"},{"location":"agents/d4d_agent/#gradio-interface","title":"Gradio Interface","text":"<pre><code>from aurelian.agents.d4d import chat\n\n# Launch Gradio interface\ninterface = chat()\ninterface.launch()\n</code></pre>"},{"location":"agents/d4d_agent/#tools","title":"Tools","text":"<p>The D4D Agent provides the following tools:</p>"},{"location":"agents/d4d_agent/#extract_metadata","title":"extract_metadata","text":"<p>Extracts metadata from a dataset description document or webpage, returning YAML formatted metadata following the datasheets schema.</p>"},{"location":"agents/d4d_agent/#process_website_or_pdf","title":"process_website_or_pdf","text":"<p>Determines if the URL points to a PDF or webpage, and retrieves the appropriate content.</p>"},{"location":"agents/d4d_agent/#extract_text_from_pdf","title":"extract_text_from_pdf","text":"<p>Downloads and extracts text from a PDF given its URL.</p>"},{"location":"agents/d4d_agent/#get_full_schema","title":"get_full_schema","text":"<p>Loads the full datasheets for datasets schema from GitHub.</p>"},{"location":"agents/d4d_agent/#configuration","title":"Configuration","text":"<p>The D4D Agent can be configured through:</p> <ul> <li>Environment variables:</li> <li><code>AURELIAN_D4D_SCHEMA_URL</code>: Custom URL for the schema YAML</li> <li> <p><code>AURELIAN_WORKDIR</code>: Working directory for the agent</p> </li> <li> <p>Direct configuration:</p> </li> <li>Pass <code>schema_url</code> parameter to <code>get_config()</code></li> </ul>"},{"location":"agents/d4d_agent/#examples","title":"Examples","text":""},{"location":"agents/d4d_agent/#example-1-extracting-metadata-from-a-web-page","title":"Example 1: Extracting metadata from a web page","text":"<pre><code>https://fairhub.io/datasets/2\n</code></pre>"},{"location":"agents/d4d_agent/#example-2-extracting-metadata-from-a-pdf-document","title":"Example 2: Extracting metadata from a PDF document","text":"<pre><code>https://data.chhs.ca.gov/dataset/99bc1fea-c55c-4377-bad8-f00832fd195d/resource/5a6d5fe9-36e6-4aca-ba4c-bf6edc682cf5/download/hci_crime_752-narrative_examples-10-30-15-ada.pdf\n</code></pre>"},{"location":"agents/diagnosis_agent/","title":"Diagnosis Agent","text":"<p>The Diagnosis agent assists in diagnosing rare diseases by leveraging the Monarch Knowledge Base. It helps clinical geneticists evaluate potential conditions based on patient phenotypes and validates diagnostic hypotheses against known disease-phenotype associations.</p>"},{"location":"agents/diagnosis_agent/#features","title":"Features","text":"<ul> <li>Identify candidate diseases based on phenotype descriptions</li> <li>Find disease IDs in the MONDO ontology</li> <li>Retrieve phenotypes associated with specific diseases</li> <li>Compare patient phenotypes with known disease manifestations</li> <li>Provide detailed reasoning and evidence for diagnoses</li> <li>Search medical literature for additional context</li> </ul>"},{"location":"agents/diagnosis_agent/#examples","title":"Examples","text":""},{"location":"agents/diagnosis_agent/#disease-diagnosis","title":"Disease Diagnosis","text":"<pre><code>Patient has growth failure, distinct facial features, alopecia, and skin aging.\nFindings excluded: Pigmented nevi, cafe-au-lait spots, and photosensitivity.\nOnset was in infancy.\nReturn diagnosis with MONDO ID\n</code></pre>"},{"location":"agents/diagnosis_agent/#specific-disease-phenotypes","title":"Specific Disease Phenotypes","text":"<pre><code>What eye phenotypes does Marfan syndrome have?\n</code></pre>"},{"location":"agents/diagnosis_agent/#disease-classification","title":"Disease Classification","text":"<pre><code>What are the kinds of Ehlers-Danlos syndrome?\n</code></pre>"},{"location":"agents/diagnosis_agent/#knowledge-base-validation","title":"Knowledge Base Validation","text":"<pre><code>Look at phenotypes for Ehlers-Danlos classic type 2. \nDo a literature search to look at latest studies. \nWhat is missing from the KB?\n</code></pre>"},{"location":"agents/diagnosis_agent/#technical-details","title":"Technical Details","text":"<p>The Diagnosis agent uses the Monarch Knowledge Base and MONDO ontology to find and validate disease-phenotype associations.</p>"},{"location":"agents/diagnosis_agent/#tools","title":"Tools","text":"<ul> <li><code>find_disease_id</code>: Finds disease IDs in the MONDO ontology based on search terms</li> <li><code>find_disease_phenotypes</code>: Retrieves phenotypes associated with a specific disease ID</li> <li><code>search_web</code>: Searches the web for additional information</li> <li><code>retrieve_web_page</code>: Fetches the contents of a web page for detailed analysis</li> </ul>"},{"location":"agents/diagnosis_agent/#configuration","title":"Configuration","text":"<p>The Diagnosis agent can be configured using environment variables:</p> <ul> <li><code>MAX_SEARCH_RESULTS</code>: Maximum number of search results to return (default: 10)</li> <li><code>AURELIAN_WORKDIR</code>: Directory for storing temporary files and results (optional)</li> </ul>"},{"location":"agents/diagnosis_agent/#using-the-agent","title":"Using the Agent","text":""},{"location":"agents/diagnosis_agent/#python-api","title":"Python API","text":"<pre><code>from aurelian.agents.diagnosis import diagnosis_agent, get_config\n\n# Configure with specific settings\nconfig = get_config()\nconfig.max_search_results = 20\n\n# Run the agent with a query\nresult = diagnosis_agent.run_sync(\n    \"Patient has growth failure, distinct facial features, alopecia, and skin aging.\",\n    deps=config\n)\nprint(result)\n</code></pre>"},{"location":"agents/diagnosis_agent/#command-line","title":"Command Line","text":"<pre><code># Direct query\npython -m aurelian.cli diagnosis \"What eye phenotypes does Marfan syndrome have?\"\n\n# Start chat interface\npython -m aurelian.cli diagnosis\n</code></pre>"},{"location":"agents/diagnosis_agent/#web-interface","title":"Web Interface","text":"<pre><code>python -m aurelian.cli diagnosis\n</code></pre>"},{"location":"agents/gocam_agent/","title":"GO-CAM Agent","text":"<p>The GO-CAM Agent assists with creating, editing, and understanding Gene Ontology Causal Activity Models (GO-CAMs). It provides tools for working with GO terms, genes, and modeling biological pathways using the GO-CAM framework.</p>"},{"location":"agents/gocam_agent/#features","title":"Features","text":"<ul> <li>Search for GO terms and gene products</li> <li>Create and edit GO-CAM models</li> <li>Explain GO-CAM concepts and best practices</li> <li>Visualize biological processes and molecular functions</li> <li>Convert between different GO-CAM representations</li> </ul>"},{"location":"agents/gocam_agent/#usage","title":"Usage","text":""},{"location":"agents/gocam_agent/#python-api","title":"Python API","text":"<pre><code>from aurelian.agents.gocam import gocam_agent, get_config\n\n# Initialize dependencies\ndeps = get_config()\n\n# Query about GO-CAM\nresult = await gocam_agent.run(\n    \"How do I represent a phosphorylation process in GO-CAM?\",\n    deps=deps\n)\n\n# Get the response\nprint(result.data)\n</code></pre>"},{"location":"agents/gocam_agent/#command-line-interface","title":"Command Line Interface","text":"<pre><code>aurelian gocam \"How do I represent a phosphorylation process in GO-CAM?\"\n</code></pre>"},{"location":"agents/gocam_agent/#gradio-interface","title":"Gradio Interface","text":"<pre><code>from aurelian.agents.gocam import chat\n\n# Launch Gradio interface\ninterface = chat()\ninterface.launch()\n</code></pre>"},{"location":"agents/gocam_agent/#tools","title":"Tools","text":"<p>The GO-CAM Agent provides the following tools:</p>"},{"location":"agents/gocam_agent/#search_go_terms","title":"search_go_terms","text":"<p>Searches the Gene Ontology for terms matching a query string.</p>"},{"location":"agents/gocam_agent/#search_genes","title":"search_genes","text":"<p>Searches for genes by name, symbol, or description.</p>"},{"location":"agents/gocam_agent/#create_gocam_model","title":"create_gocam_model","text":"<p>Creates a new GO-CAM model with specified components.</p>"},{"location":"agents/gocam_agent/#visualize_gocam","title":"visualize_gocam","text":"<p>Generates a visualization of a GO-CAM model.</p>"},{"location":"agents/gocam_agent/#examples","title":"Examples","text":""},{"location":"agents/gocam_agent/#example-1-creating-a-simple-go-cam-model","title":"Example 1: Creating a simple GO-CAM model","text":"<pre><code>Create a GO-CAM model for TP53 regulating apoptosis\n</code></pre>"},{"location":"agents/gocam_agent/#example-2-finding-relevant-go-terms","title":"Example 2: Finding relevant GO terms","text":"<pre><code>What GO terms are related to DNA repair?\n</code></pre>"},{"location":"agents/gocam_agent/#example-3-explaining-go-cam-concepts","title":"Example 3: Explaining GO-CAM concepts","text":"<pre><code>Explain how to represent a protein kinase activity in GO-CAM\n</code></pre>"},{"location":"agents/linkml_agent/","title":"LinkML Agent","text":"<p>The LinkML Agent assists with creating, validating, and working with LinkML schemas. It provides tools for schema development, validation, code generation, and data transformation using the LinkML (Linked Data Modeling Language) framework.</p>"},{"location":"agents/linkml_agent/#features","title":"Features","text":"<ul> <li>Assist with LinkML schema design and development</li> <li>Validate YAML data against LinkML schemas</li> <li>Generate code and artifacts from schemas</li> <li>Transform data between JSON, YAML, RDF, and other formats</li> <li>Explain LinkML concepts and best practices</li> <li>Troubleshoot schema and validation issues</li> </ul>"},{"location":"agents/linkml_agent/#usage","title":"Usage","text":""},{"location":"agents/linkml_agent/#python-api","title":"Python API","text":"<pre><code>from aurelian.agents.linkml import linkml_agent, get_config\n\n# Initialize dependencies\ndeps = get_config()\n\n# Query about LinkML\nresult = await linkml_agent.run(\n    \"How do I define an enumeration in LinkML?\",\n    deps=deps\n)\n\n# Get the response\nprint(result.data)\n</code></pre>"},{"location":"agents/linkml_agent/#command-line-interface","title":"Command Line Interface","text":"<pre><code>aurelian linkml \"How do I define an enumeration in LinkML?\"\n</code></pre>"},{"location":"agents/linkml_agent/#gradio-interface","title":"Gradio Interface","text":"<pre><code>from aurelian.agents.linkml import chat\n\n# Launch Gradio interface\ninterface = chat()\ninterface.launch()\n</code></pre>"},{"location":"agents/linkml_agent/#tools","title":"Tools","text":"<p>The LinkML Agent provides the following tools:</p>"},{"location":"agents/linkml_agent/#validate_schema","title":"validate_schema","text":"<p>Validates a LinkML schema for correctness.</p>"},{"location":"agents/linkml_agent/#generate_python","title":"generate_python","text":"<p>Generates Python classes from a LinkML schema.</p>"},{"location":"agents/linkml_agent/#validate_data","title":"validate_data","text":"<p>Validates data against a LinkML schema.</p>"},{"location":"agents/linkml_agent/#transform_data","title":"transform_data","text":"<p>Transforms data between different formats (YAML, JSON, RDF, etc.).</p>"},{"location":"agents/linkml_agent/#examples","title":"Examples","text":""},{"location":"agents/linkml_agent/#example-1-creating-a-schema","title":"Example 1: Creating a schema","text":"<pre><code>Help me create a LinkML schema for a person with name, age, and address\n</code></pre>"},{"location":"agents/linkml_agent/#example-2-validating-a-schema","title":"Example 2: Validating a schema","text":"<p><pre><code>Is this schema valid?\n</code></pre> <pre><code>classes:\n  Person:\n    attributes:\n      name:\n        required: true\n      age:\n        range: integer\n</code></pre></p>"},{"location":"agents/linkml_agent/#example-3-generating-code","title":"Example 3: Generating code","text":"<p><pre><code>Generate Python classes for this schema:\n</code></pre> <pre><code>classes:\n  Person:\n    attributes:\n      name:\n        required: true\n      age:\n        range: integer\n</code></pre></p>"},{"location":"agents/monarch_agent/","title":"Monarch Agent","text":"<p>The Monarch agent provides an interface to the Monarch Knowledge Base, allowing you to search for and explore relationships between genes, diseases, phenotypes, and other biomedical entities.</p>"},{"location":"agents/monarch_agent/#features","title":"Features","text":"<ul> <li>Find associations for genes, including what diseases they're linked to</li> <li>Find associations for diseases, including what genes and phenotypes they're linked to</li> <li>Provide information about biological relationships in a structured way</li> <li>Normalize biomedical identifiers for consistent querying</li> </ul>"},{"location":"agents/monarch_agent/#examples","title":"Examples","text":""},{"location":"agents/monarch_agent/#finding-gene-associations","title":"Finding Gene Associations","text":"<pre><code>Find all diseases associated with the BRCA1 gene\n</code></pre>"},{"location":"agents/monarch_agent/#finding-disease-associations","title":"Finding Disease Associations","text":"<pre><code>What genes are associated with Alzheimer's disease?\n</code></pre>"},{"location":"agents/monarch_agent/#exploring-phenotypes","title":"Exploring Phenotypes","text":"<pre><code>Find phenotypes associated with MONDO:0007254\n</code></pre>"},{"location":"agents/monarch_agent/#technical-details","title":"Technical Details","text":"<p>The Monarch agent uses the OakLib library to interact with the Monarch Knowledge Base. It provides tools to search and query the rich biomedical relationships in this database.</p>"},{"location":"agents/monarch_agent/#tools","title":"Tools","text":"<ul> <li><code>find_gene_associations</code>: Retrieves associations for a given gene ID</li> <li><code>find_disease_associations</code>: Retrieves associations for a given disease ID</li> </ul>"},{"location":"agents/monarch_agent/#configuration","title":"Configuration","text":"<p>The Monarch agent can be configured using environment variables:</p> <ul> <li><code>AURELIAN_WORKDIR</code>: Directory for storing temporary files and results (optional)</li> <li><code>MONARCH_TAXON</code>: Default taxonomic ID to use (defaults to 9606 for human)</li> </ul>"},{"location":"agents/monarch_agent/#using-the-agent","title":"Using the Agent","text":""},{"location":"agents/monarch_agent/#python-api","title":"Python API","text":"<pre><code>from aurelian.agents.monarch import monarch_agent\n\n# Run the agent with a query\nresult = monarch_agent.run_sync(\"Find associations for gene BRCA1\")\nprint(result)\n\n# Use specific tools directly\nfrom aurelian.agents.monarch import find_gene_associations\nfrom pydantic_ai import RunContext\n\nctx = RunContext()\nresult = find_gene_associations(ctx, \"BRCA1\")\nprint(result)\n</code></pre>"},{"location":"agents/monarch_agent/#command-line","title":"Command Line","text":"<pre><code>python -m aurelian.cli run monarch \"Find diseases associated with BRCA1 gene\"\n</code></pre>"},{"location":"agents/monarch_agent/#web-interface","title":"Web Interface","text":"<pre><code>python -m aurelian.cli serve monarch\n</code></pre>"},{"location":"agents/ontology_mapper_agent/","title":"Ontology Mapper Agent","text":"<p>The Ontology Mapper agent helps users find and map terms in OBO ontologies based on natural language queries, alternative names, or descriptions. It uses semantic search capabilities to locate the most relevant ontology terms.</p>"},{"location":"agents/ontology_mapper_agent/#features","title":"Features","text":"<ul> <li>Search across multiple OBO ontologies for relevant terms</li> <li>Map natural language descriptions to standard ontology terms</li> <li>Evaluate relevance of potential matches based on context</li> <li>Provide guidance when no exact matches exist</li> <li>Link to external resources for additional information</li> </ul>"},{"location":"agents/ontology_mapper_agent/#examples","title":"Examples","text":""},{"location":"agents/ontology_mapper_agent/#finding-terms-in-specific-ontologies","title":"Finding terms in specific ontologies","text":"<pre><code>Find the term in the cell ontology for neuron\n</code></pre> <pre><code>What is the term for the process of cell division in GO?\n</code></pre>"},{"location":"agents/ontology_mapper_agent/#mapping-multiple-terms","title":"Mapping multiple terms","text":"<pre><code>Find good MP terms for the following:\n\n* Surface righting Reduced\n* Contextual fear conditioning Reduced\n* Morris water maze Reduced\n* Rotarod Increased\n</code></pre>"},{"location":"agents/ontology_mapper_agent/#finding-anatomical-terms","title":"Finding anatomical terms","text":"<pre><code>Best terms to use for the middle 3 fingers\n</code></pre>"},{"location":"agents/ontology_mapper_agent/#technical-details","title":"Technical Details","text":"<p>The Ontology Mapper agent uses embedding-based search to find terms that are semantically similar to the query. It works with a configurable set of ontologies from the OBO Foundry.</p>"},{"location":"agents/ontology_mapper_agent/#tools","title":"Tools","text":"<ul> <li><code>search_terms</code>: Finds similar ontology terms to the search query</li> <li><code>search_web</code>: Searches the web for additional information</li> <li><code>retrieve_web_page</code>: Fetches the contents of a web page for additional context</li> </ul>"},{"location":"agents/ontology_mapper_agent/#supported-ontologies","title":"Supported Ontologies","text":"<p>By default, the agent supports the following ontologies: - MONDO: Disease ontology - HP: Human Phenotype Ontology - GO: Gene Ontology - UBERON: Anatomy ontology - CL: Cell Ontology - MP: Mammalian Phenotype Ontology - ENVO: Environment Ontology</p> <p>Additional ontologies can be specified when starting the agent.</p>"},{"location":"agents/ontology_mapper_agent/#configuration","title":"Configuration","text":"<p>The Ontology Mapper agent can be configured using environment variables:</p> <ul> <li><code>MAX_SEARCH_RESULTS</code>: Maximum number of search results to return (default: 30)</li> <li><code>AURELIAN_WORKDIR</code>: Directory for storing temporary files and results (optional)</li> </ul>"},{"location":"agents/ontology_mapper_agent/#using-the-agent","title":"Using the Agent","text":""},{"location":"agents/ontology_mapper_agent/#python-api","title":"Python API","text":"<pre><code>from aurelian.agents.ontology_mapper import ontology_mapper_agent, get_config\n\n# Configure with specific ontologies\nconfig = get_config(ontologies=[\"cl\", \"uberon\", \"go\"])\n\n# Run the agent with a query\nresult = ontology_mapper_agent.run_sync(\"Find terms for neurons in the hippocampus\", deps=config)\nprint(result)\n</code></pre>"},{"location":"agents/ontology_mapper_agent/#command-line","title":"Command Line","text":"<pre><code># Run with default ontologies\npython -m aurelian.cli mapper \"Find the term in the cell ontology for neuron\"\n\n# Run with specific ontologies\npython -m aurelian.cli mapper --ontologies cl,uberon,go \"Find terms for neurons in the hippocampus\"\n</code></pre>"},{"location":"agents/ontology_mapper_agent/#web-interface","title":"Web Interface","text":"<pre><code># Start with default ontologies\npython -m aurelian.cli mapper\n\n# Start with specific ontologies\npython -m aurelian.cli mapper --ontologies cl,uberon,go\n</code></pre>"},{"location":"agents/phenopacket_agent/","title":"Phenopacket Agent","text":"<p>The Phenopacket Agent provides a natural language interface for working with GA4GH Phenopackets, a standard format for sharing disease and phenotype information for genomic medicine. It helps users create, analyze, and interpret phenopackets for rare disease diagnosis and research.</p>"},{"location":"agents/phenopacket_agent/#features","title":"Features","text":"<ul> <li>Create and validate phenopackets from natural language descriptions</li> <li>Search and analyze phenopacket databases</li> <li>Extract phenotypes, diseases, and genetic variants from clinical descriptions</li> <li>Convert between phenopacket formats</li> <li>Assist with rare disease diagnosis</li> <li>Generate human-readable summaries of phenopackets</li> </ul>"},{"location":"agents/phenopacket_agent/#usage","title":"Usage","text":""},{"location":"agents/phenopacket_agent/#python-api","title":"Python API","text":"<pre><code>from aurelian.agents.phenopackets import phenopackets_agent, get_config\n\n# Initialize dependencies\ndeps = get_config()\n\n# Query phenopacket information\nresult = await phenopackets_agent.run(\n    \"Create a phenopacket for a patient with Marfan syndrome\",\n    deps=deps\n)\n\n# Get the response\nprint(result.data)\n</code></pre>"},{"location":"agents/phenopacket_agent/#command-line-interface","title":"Command Line Interface","text":"<pre><code>aurelian phenopackets \"Create a phenopacket for a patient with Marfan syndrome\"\n</code></pre>"},{"location":"agents/phenopacket_agent/#gradio-interface","title":"Gradio Interface","text":"<pre><code>from aurelian.agents.phenopackets import chat\n\n# Launch Gradio interface\ninterface = chat()\ninterface.launch()\n</code></pre>"},{"location":"agents/phenopacket_agent/#tools","title":"Tools","text":"<p>The Phenopacket Agent provides the following tools:</p>"},{"location":"agents/phenopacket_agent/#create_phenopacket","title":"create_phenopacket","text":"<p>Creates a new phenopacket from a description of phenotypes, diseases, and variants.</p>"},{"location":"agents/phenopacket_agent/#validate_phenopacket","title":"validate_phenopacket","text":"<p>Validates a phenopacket against the schema.</p>"},{"location":"agents/phenopacket_agent/#search_phenopackets","title":"search_phenopackets","text":"<p>Searches a phenopacket database for matching cases.</p>"},{"location":"agents/phenopacket_agent/#summarize_phenopacket","title":"summarize_phenopacket","text":"<p>Generates a human-readable summary of a phenopacket.</p>"},{"location":"agents/phenopacket_agent/#examples","title":"Examples","text":""},{"location":"agents/phenopacket_agent/#example-1-creating-a-phenopacket","title":"Example 1: Creating a phenopacket","text":"<pre><code>Create a phenopacket for a 5-year-old male with osteogenesis imperfecta\n</code></pre>"},{"location":"agents/phenopacket_agent/#example-2-searching-for-similar-cases","title":"Example 2: Searching for similar cases","text":"<pre><code>Find phenopackets with similar phenotypes to: HP:0000347, HP:0001382, HP:0011304\n</code></pre>"},{"location":"agents/phenopacket_agent/#example-3-analyzing-a-phenopacket","title":"Example 3: Analyzing a phenopacket","text":"<p><pre><code>Summarize the clinical information in this phenopacket:\n</code></pre> <pre><code>{\n  \"id\": \"example-patient\",\n  \"subject\": {\n    \"id\": \"patient1\",\n    \"timeAtLastEncounter\": {\n      \"age\": {\n        \"iso8601duration\": \"P5Y\"\n      }\n    },\n    \"sex\": \"MALE\"\n  },\n  \"phenotypicFeatures\": [\n    {\n      \"type\": {\n        \"id\": \"HP:0000347\",\n        \"label\": \"Micrognathia\"\n      }\n    },\n    {\n      \"type\": {\n        \"id\": \"HP:0001382\",\n        \"label\": \"Joint hypermobility\"\n      }\n    }\n  ]\n}\n</code></pre></p>"},{"location":"agents/rag_agent/","title":"RAG Agent","text":"<p>The RAG (Retrieval-Augmented Generation) Agent provides a natural language interface for exploring and searching document collections. It uses RAG techniques to combine search capabilities with generative AI to produce relevant, context-aware responses based on document content.</p>"},{"location":"agents/rag_agent/#features","title":"Features","text":"<ul> <li>Search document collections with natural language queries</li> <li>Inspect specific documents by title or other identifying information</li> <li>Retrieve PubMed publications via PMID</li> <li>Perform web searches and retrieve web page content</li> <li>Generate context-aware responses based on document content</li> </ul>"},{"location":"agents/rag_agent/#usage","title":"Usage","text":""},{"location":"agents/rag_agent/#python-api","title":"Python API","text":"<pre><code>from aurelian.agents.rag import rag_agent, get_config\n\n# Initialize dependencies with your database path and collection\ndeps = get_config(db_path=\"sqlite:///path/to/db\", collection_name=\"main\")\n\n# Search for documents about a specific topic\nresult = await rag_agent.run(\n    \"What papers in collection are relevant to microbial nitrogen fixation?\",\n    deps=deps\n)\n\n# Get the search results\nprint(result.data)\n</code></pre>"},{"location":"agents/rag_agent/#command-line-interface","title":"Command Line Interface","text":"<pre><code>aurelian rag --db-path \"sqlite:///path/to/db\" --collection-name \"main\" \"What papers in collection are relevant to microbial nitrogen fixation?\"\n</code></pre>"},{"location":"agents/rag_agent/#gradio-interface","title":"Gradio Interface","text":"<pre><code>from aurelian.agents.rag import chat\n\n# Launch Gradio interface with your database configuration\ninterface = chat(db_path=\"sqlite:///path/to/db\", collection_name=\"main\")\ninterface.launch()\n</code></pre>"},{"location":"agents/rag_agent/#tools","title":"Tools","text":"<p>The RAG Agent provides the following tools:</p>"},{"location":"agents/rag_agent/#search_documents","title":"search_documents","text":"<p>Performs a retrieval search over the document database using a natural language query. Returns matching documents with relevancy scores.</p>"},{"location":"agents/rag_agent/#inspect_document","title":"inspect_document","text":"<p>Retrieves the full content of a specific document identified by title or other identifying information.</p>"},{"location":"agents/rag_agent/#lookup_pmid","title":"lookup_pmid","text":"<p>Retrieves the full text or abstract of a publication using its PubMed ID (format: \"PMID:nnnnnnn\").</p>"},{"location":"agents/rag_agent/#search_web","title":"search_web","text":"<p>Searches the web using a text query and returns matching web pages with summaries.</p>"},{"location":"agents/rag_agent/#retrieve_web_page","title":"retrieve_web_page","text":"<p>Fetches the contents of a specific web page.</p>"},{"location":"agents/rag_agent/#configuration","title":"Configuration","text":"<p>The RAG Agent requires a document database to function. You can configure it through:</p> <ul> <li>Environment variables:</li> <li><code>AURELIAN_RAG_DB_PATH</code>: Path to the document database</li> <li> <p><code>AURELIAN_RAG_COLLECTION</code>: Name of the collection (default: \"main\")</p> </li> <li> <p>Direct configuration:</p> </li> <li>Pass <code>db_path</code> and <code>collection_name</code> parameters to <code>get_config()</code></li> </ul>"},{"location":"agents/rag_agent/#examples","title":"Examples","text":""},{"location":"agents/rag_agent/#example-1-searching-for-papers-on-a-specific-topic","title":"Example 1: Searching for papers on a specific topic","text":"<pre><code>What papers in collection are relevant to microbial nitrogen fixation?\n</code></pre>"},{"location":"agents/rag_agent/#example-2-finding-papers-that-mention-specific-genes","title":"Example 2: Finding papers that mention specific genes","text":"<pre><code>Find documents that discuss the role of nif genes in nitrogen fixation\n</code></pre>"},{"location":"agents/rag_agent/#example-3-summarizing-a-specific-document","title":"Example 3: Summarizing a specific document","text":"<pre><code>Summarize the paper titled \"Recent advances in nitrogen fixation\"\n</code></pre>"},{"location":"agents/ubergraph_agent/","title":"UberGraph Agent","text":"<p>The UberGraph agent provides a natural language interface to query ontologies using SPARQL through the UberGraph endpoint. It helps users formulate and execute SPARQL queries without needing to know the full SPARQL syntax.</p>"},{"location":"agents/ubergraph_agent/#features","title":"Features","text":"<ul> <li>Convert natural language questions into SPARQL queries</li> <li>Query the UberGraph SPARQL endpoint, which contains many OBO ontologies</li> <li>Access precomputed relation graph edges </li> <li>Use a comprehensive set of predefined SPARQL prefixes</li> <li>Get results in a simplified, readable format</li> </ul>"},{"location":"agents/ubergraph_agent/#examples","title":"Examples","text":""},{"location":"agents/ubergraph_agent/#finding-anatomical-structures","title":"Finding Anatomical Structures","text":"<pre><code>Find all cell types that are part of the heart\n</code></pre>"},{"location":"agents/ubergraph_agent/#retrieving-definitions","title":"Retrieving Definitions","text":"<pre><code>What is the definition of CL:0000746?\n</code></pre>"},{"location":"agents/ubergraph_agent/#gene-expression","title":"Gene Expression","text":"<pre><code>What genes are expressed in neurons?\n</code></pre>"},{"location":"agents/ubergraph_agent/#class-hierarchy","title":"Class Hierarchy","text":"<pre><code>What are the subclasses of skeletal muscle tissue?\n</code></pre>"},{"location":"agents/ubergraph_agent/#technical-details","title":"Technical Details","text":"<p>The UberGraph agent connects to the UberGraph SPARQL endpoint, which is a triplestore containing many OBO ontologies and precomputed relation graph edges.</p>"},{"location":"agents/ubergraph_agent/#tools","title":"Tools","text":"<ul> <li><code>query_ubergraph</code>: Performs a SPARQL query over UberGraph and returns the results</li> </ul>"},{"location":"agents/ubergraph_agent/#ubergraph-data-model-assumptions","title":"UberGraph Data Model Assumptions","text":"<p>The agent operates with these assumptions about the UberGraph data model:</p> <ul> <li>Direct (asserted) edges are stored in the <code>renci:ontology</code> graph</li> <li>Indirect (entailed) edges are stored in the <code>renci:redundant</code> graph</li> <li>rdfs:subClassOf is used for is-a relationships</li> <li>rdfs:label is used for labels</li> <li>IAO:0000115 is used for definitions</li> <li>oboInOwl:hasExactSynonym is used for synonyms</li> <li>oboInOwl:hasDbXref is used for cross-references</li> </ul>"},{"location":"agents/ubergraph_agent/#configuration","title":"Configuration","text":"<p>The UberGraph agent can be configured using environment variables:</p> <ul> <li><code>UBERGRAPH_ENDPOINT</code>: The URL of the UberGraph SPARQL endpoint</li> <li><code>MAX_RESULTS</code>: Maximum number of results to return (default: 20)</li> <li><code>AURELIAN_WORKDIR</code>: Directory for storing temporary files and results (optional)</li> </ul>"},{"location":"agents/ubergraph_agent/#using-the-agent","title":"Using the Agent","text":""},{"location":"agents/ubergraph_agent/#python-api","title":"Python API","text":"<pre><code>from aurelian.agents.ubergraph import ubergraph_agent, get_config\n\n# Configure with specific endpoint\nconfig = get_config(endpoint=\"https://ubergraph.apps.renci.org/sparql\")\n\n# Run the agent with a query\nresult = ubergraph_agent.run_sync(\"What are the subclasses of neuron?\", deps=config)\nprint(result)\n</code></pre>"},{"location":"agents/ubergraph_agent/#command-line","title":"Command Line","text":"<pre><code># Direct query\npython -m aurelian.cli ubergraph \"Find all cell types that are part of the heart\"\n\n# Start chat interface\npython -m aurelian.cli ubergraph\n</code></pre>"},{"location":"agents/ubergraph_agent/#web-interface","title":"Web Interface","text":"<pre><code>python -m aurelian.cli ubergraph\n</code></pre>"},{"location":"agents/uniprot_agent/","title":"UniProt Agent","text":"<p>The UniProt agent provides an interface to the UniProt database, allowing you to search for proteins, retrieve detailed information about specific proteins, and map between different database identifiers.</p>"},{"location":"agents/uniprot_agent/#features","title":"Features","text":"<ul> <li>Search UniProt for protein information using keywords, gene names, or other attributes</li> <li>Retrieve detailed information about specific proteins using UniProt accession numbers</li> <li>Map UniProt accessions to entries in other databases (like PDB, KEGG, etc.)</li> <li>Handle normalized UniProt IDs (with or without version numbers or database prefixes)</li> </ul>"},{"location":"agents/uniprot_agent/#examples","title":"Examples","text":""},{"location":"agents/uniprot_agent/#searching-uniprot","title":"Searching UniProt","text":"<pre><code>Find all human insulin proteins\n</code></pre>"},{"location":"agents/uniprot_agent/#looking-up-a-specific-protein","title":"Looking up a specific protein","text":"<pre><code>Get detailed information for UniProt accession P01308\n</code></pre>"},{"location":"agents/uniprot_agent/#mapping-identifiers","title":"Mapping identifiers","text":"<pre><code>Map the UniProt IDs P01308 and P01009 to PDB database\n</code></pre>"},{"location":"agents/uniprot_agent/#technical-details","title":"Technical Details","text":"<p>The UniProt agent uses the bioservices Python package to interact with the UniProt API. It formats and processes the results for easier interpretation.</p>"},{"location":"agents/uniprot_agent/#tools","title":"Tools","text":"<ul> <li><code>search</code>: Searches UniProt with a query string and returns results in TSV format</li> <li><code>lookup_uniprot_entry</code>: Retrieves detailed information for a specific UniProt accession number</li> <li><code>uniprot_mapping</code>: Maps UniProt accessions to entries in other databases</li> </ul>"},{"location":"agents/uniprot_agent/#configuration","title":"Configuration","text":"<p>The UniProt agent can be configured using environment variables:</p> <ul> <li><code>AURELIAN_WORKDIR</code>: Directory for storing temporary files and results (optional)</li> </ul>"},{"location":"agents/uniprot_agent/#using-the-agent","title":"Using the Agent","text":""},{"location":"agents/uniprot_agent/#python-api","title":"Python API","text":"<pre><code>from aurelian.agents.uniprot import uniprot_agent\n\n# Run the agent with a query\nresult = uniprot_agent.run_sync(\"Find information about human insulin\")\nprint(result)\n\n# Use specific tools directly\nfrom aurelian.agents.uniprot import lookup_uniprot_entry\nfrom pydantic_ai import RunContext\n\nctx = RunContext()\nresult = lookup_uniprot_entry(ctx, \"P01308\")\nprint(result)\n</code></pre>"},{"location":"agents/uniprot_agent/#command-line","title":"Command Line","text":"<pre><code>python -m aurelian.cli run uniprot \"Find information about human insulin\"\n</code></pre>"},{"location":"agents/uniprot_agent/#web-interface","title":"Web Interface","text":"<pre><code>python -m aurelian.cli serve uniprot\n</code></pre>"},{"location":"examples/Terpenoids/","title":"Chemistry","text":"<pre><code>from aurelian.agents.chemistry_agent import get_chebi_adapter, ChemicalStructure\n\nCLASSES = {\n    \"monoterpenoid\": 10,\n    \"sesquiterpenoid\": 15,\n    \"diterpenoid\": 20,\n    \"sesterterpenoid\": 25,\n    \"triterpenoid\": 30,\n    \"other\": None,\n}\n</code></pre> <pre><code>chebi = get_chebi_adapter()\nsession = chebi.session\n</code></pre> <pre><code>def get_formula(curie: str):\n    return chebi.entity_metadata_map(curie).get(\"obo:chebi/formula\", None)\n</code></pre> <pre><code>from semsql.sqla.semsql import Statements\nfrom oaklib.datamodels.vocabulary import IS_A\n\nsuspects = []\nfor c, expected_carbons in CLASSES.items():\n    if not expected_carbons:\n        continue\n    print(f\"Searching for {c}\")\n    curies = chebi.curies_by_label(c)\n    curie = curies[0] if curies else None\n    structures = list(chebi.descendants(curie, [IS_A]))\n    q = session.query(Statements.subject, Statements.value).filter(Statements.subject.in_(structures))\n    q = q.filter(Statements.predicate == \"obo:chebi/formula\")\n    for s, formula in q:\n        # split into atoms; e.g. C10H16 =&amp;gt; {\"C\": 10, \"H\": 16}\n        import re\n        atom_counts = dict(re.findall(r'([A-Z][a-z]*)(\\d*)', formula))\n        ac = atom_counts.get(\"C\", 0)\n        cc = int(ac) if ac else 1\n        if cc &amp;gt;= expected_carbons * 2 or cc * 2 &amp;lt;= expected_carbons:\n            #print(s, formula)\n            suspects.append((c, s, cc, formula))\n</code></pre> <pre>\n<code>Searching for monoterpenoid\nSearching for sesquiterpenoid\nSearching for diterpenoid\nSearching for sesterterpenoid\nSearching for triterpenoid\n</code>\n</pre> <pre><code>len(suspects)\n</code></pre> <pre>\n<code>775</code>\n</pre> <pre><code>len([s for s in suspects if s[0] == \"triterpenoid\"])\n</code></pre> <pre>\n<code>51</code>\n</pre> <pre><code>suspects.reverse()\n</code></pre> <pre><code>from pydantic import BaseModel\nfrom pydantic_ai import Agent\n\nclass Classification(BaseModel):\n    chemical_class: str\n    explanation: str\n    confidence: str\n\nagent = Agent(\n    model='openai:gpt-4o',\n      system_prompt=f\"\"\"You are an expert chemist, able to interpret\n      chemical structure diagrams and classify them.\n      Look at the provided structure and classify it in one of the following categories:\n      {\", \".join(CLASSES.keys())}.\n      When providing the explanation, show your full reasoning, explaining any anomalies in the structure.\n      Actually look at the structure, and describe it, rather than just counting carbons.\n      I want a detailed description of what you see.\n      If you don't know, say so. Give a confidence level for all classifications, LOW, MEDIUM, or HIGH.\n      \"\"\",\n    result_type=Classification)\n</code></pre> <pre><code>from pydantic_ai import ImageUrl\nimport nest_asyncio\n\nnest_asyncio.apply()\n\nresults = []\nfor c, s, cc, formula in suspects:\n\n    structure = ChemicalStructure.from_id(s)\n    structure.name = chebi.label(s)\n    img_url = ImageUrl(url=structure.chebi_image_url)\n    q = (\n        f\"This structure is classified in CHEBI as a {c}, yet it has {cc} carbons.\"\n        f\" Its formula is {formula}.\"\n        f\" And its name is {structure.name}.\"\n        f\" Give the correct classification.\"\n    )\n    q = f\"\"\"What is the correct classification for this structure?\n    I suspect it is a terpenoid, in one of the following categories:\n    {\", \".join(CLASSES.keys())}.\n    \"\"\"\n    result = agent.run_sync([q, img_url])\n    agrees = result.data.chemical_class.lower() == c.lower()\n    print(agrees, c, s, cc, formula)\n    print(result.data)\n    results.append((agrees, c, s, q, result))\n</code></pre> <pre>\n<code>True triterpenoid CHEBI:9771 63 C63H98O29\nchemical_class='triterpenoid' explanation='The chemical structure in the image shows a large carbon skeleton with six isoprene units (30 carbon atoms organized into rings). The structure includes a multi-ring system typical for a triterpene, specifically resembling a cucurbitane skeleton in its core, characteristic of triterpenes. Additionally, there are multiple glycosidic linkages (the sugar moieties attached) which are common modifications on triterpenoid aglycones, often seen in triterpenoid saponins. These features match the classification of a triterpenoid.' confidence='HIGH'\nTrue triterpenoid CHEBI:9110 70 C70H104O32\nchemical_class='triterpenoid' explanation='The structure displayed consists of 30 carbon atoms forming a series of interconnected rings. This configuration is characteristic of triterpenoids, which are comprised of six isoprene units. The additional functional groups and ring configurations are common in complex triterpenoids, which can include various functional modifications. Monoterpenoids, sesquiterpenoids, diterpenoids, and sesterterpenoids consist of fewer carbon atoms (10, 15, 20, and 25 respectively), making this structure consistent with that of a triterpenoid.' confidence='HIGH'\nTrue triterpenoid CHEBI:74453 74 C74H110O35\nchemical_class='triterpenoid' explanation='The structure displayed contains a series of six isoprene units (C5H8) arranged into a polycyclic framework, characteristic of a triterpenoid. The core structure consists of three interconnected cyclohexane rings and a cyclopentane ring, common in many triterpenoids. Additionally, the structure includes multiple hydroxyl (OH) groups and glycosidic linkages attached to the triterpene skeleton, further indicating a complex triterpenoid configuration, possibly a glycoside.' confidence='HIGH'\nTrue triterpenoid CHEBI:74448 69 C69H102O31\nchemical_class='triterpenoid' explanation='This chemical structure can be classified as a triterpenoid based on its features. The backbone consists of six isoprene units, forming a complex carbon structure typical of triterpenoids. The structure includes multiple rings, hydroxyl groups, and some double bonds, which is characteristic of triterpenoids. Triterpenoids are typically composed of 30 carbon atoms, derived from the combination of six isoprene units, forming complex ring systems and often carrying diverse substituents and functional groups as seen here. The presence of these features strongly supports its classification as a triterpenoid.' confidence='HIGH'\nTrue triterpenoid CHEBI:69373 64 C64H104O30\nchemical_class='triterpenoid' explanation=\"The structure provided is quite complex, featuring multiple hexagonal rings typically associated with steroid frameworks. The core is a large structure with multiple isoprene units bonded together, forming a long carbon chain. The structure displays hydroxyl groups (-OH) indicative of triterpenoids, which typically have 30 carbon atoms arranged in a four-ring structure that can be further derivatized with hydroxyl groups, sugars, etc. With the dense carbon framework and the attached functional groups like -OH, it's consistent with triterpenoid structures like saponins or glycosides.\" confidence='HIGH'\nTrue triterpenoid CHEBI:69372 65 C65H106O31\nchemical_class='triterpenoid' explanation='The chemical structure displayed consists of a backbone of 30 carbon atoms, organized into a structure typical of triterpenoids. This includes multiple interconnected rings that are characteristic of this class of compounds. The presence of several hydroxyl groups (OH) attached to the rings indicates functional modifications often found in triterpenoids. The visual complexity, large size, and specific ring structures are consistent with structures derived from six isoprene units, aligning with the triterpenoid classification.' confidence='HIGH'\nTrue triterpenoid CHEBI:66653 69 C69H112O36\nchemical_class='triterpenoid' explanation='The structure consists of a long carbon chain with multiple rings typical of triterpenoids. It appears to have six isoprene units (total of 30 carbon atoms distributed in a complex structure), indicating it is a triterpenoid. The presence of multiple hydroxyl groups (OH) and glycosidic linkages is also a common feature of many triterpenoid glycosides, enhancing the complexity of the structure.' confidence='HIGH'\nTrue triterpenoid CHEBI:66652 69 C69H112O34\nchemical_class='triterpenoid' explanation='The structure depicted contains six isoprene units, which is characteristic of a triterpenoid. It consists of thirty carbon atoms arranged in a complex cyclic formation, a hallmark of the triterpenoid class. The multiple rings and the extensive branching and hydroxyl groups further indicate its complexity, aligning with known structures of triterpenoids.' confidence='HIGH'\nTrue triterpenoid CHEBI:66469 75 C75H112O35\nchemical_class='triterpenoid' explanation='The chemical structure consists of six isoprene units, which is characteristic of a triterpenoid. Triterpenoids generally have 30 carbon atoms arranged in this way. The structure also features a complex multi-ring system typical of steroids or other terpene-derived compounds, which aligns with the triterpenoid classification. Additional functional groups and side chains are present, indicating a potentially complex modification of the typical triterpene skeleton.' confidence='HIGH'\nTrue triterpenoid CHEBI:66467 69 C69H102O31\nchemical_class='triterpenoid' explanation='The structure shown has a characteristic arrangement of three six-membered rings and one five-membered ring, which is typical of a triterpenoid structure derived from squalene. Additionally, the complexity and size of the structure align with the typical size of triterpenoids, which are composed of 30 carbon atoms. The molecular structure further includes various functional groups such as hydroxyl (OH) groups, which are common in oxygenated derivatives of triterpenoids, often seen in steroidal structures. The presence of additional glycosidic attachments indicates possible steroidal saponins, a subclass of triterpenoids.' confidence='HIGH'\nTrue triterpenoid CHEBI:66466 69 C69H102O31\nchemical_class='triterpenoid' explanation='The structure in the image is a complex molecule containing multiple six-membered rings with hydroxyl groups and methyl groups attached. It appears to be a large compound with a backbone characteristic of a triterpenoid, based on the presence of 30 carbon atoms arranged in a cyclized structure typical for triterpenes. The presence of multiple rings and specific substituents aligns well with triterpenoid structures, which are known to be diverse and complex.' confidence='HIGH'\nTrue triterpenoid CHEBI:66465 74 C74H110O35\nchemical_class='triterpenoid' explanation='The structure consists of a large carbon skeleton that can be broken down into six isoprene units (each with five carbon atoms). This is indicative of a triterpenoid, as triterpenoids are composed of thirty carbon atoms. Additionally, the presence of multiple rings and oxygen functionalities is characteristic of triterpenoids. The attached sugar moieties are typical in glycosylated triterpenoids.' confidence='HIGH'\nTrue triterpenoid CHEBI:66464 74 C74H110O35\nchemical_class='triterpenoid' explanation='The structure shows a complex polycyclic framework characteristic of triterpenoids, which typically consist of six isoprene units (30 carbons). This molecule includes a fused ring system, common in triterpenoids, and additional sugar units do not alter this basic classification. The presence of multiple rings and a 30-carbon core aligns with the structure of known triterpenoids.' confidence='HIGH'\nTrue triterpenoid CHEBI:66173 62 C62H102N2O27\nchemical_class='triterpenoid' explanation='The structure shown is a complex molecule with multiple ring systems, indicative of a highly functionalized organic compound. There are six-membered rings visible, which are characteristic of steroidal frameworks. It appears to have multiple sugar moieties attached, suggesting glycosylation, but the core structure shows a typical tetracyclic triterpenoid pattern with a total carbon count consistent with triterpenoids (C30). The presence of hydroxyl and other functional groups suggests modifications typical in natural triterpenoids.' confidence='HIGH'\nTrue triterpenoid CHEBI:65993 71 C71H112O36\nchemical_class='triterpenoid' explanation='The structure is based on a 30-carbon backbone typical of triterpenoids. It has a pentacyclic structure with multiple hydroxyl groups and sugar moieties attached, which is common in terpenoid glycosides. The core structure exhibits rings and functional groups characteristic of triterpenoids.' confidence='HIGH'\nTrue triterpenoid CHEBI:65992 74 C74H116O40\nchemical_class='triterpenoid' explanation='The structure consists of a basic C30 backbone typical of triterpenoids. The central part of the molecule displays five fused six-membered rings, which is a characteristic pattern found in many triterpenoids such as steroids. Additionally, the presence of multiple hydroxyl groups and sugar moieties further indicates that it is a complex triterpenoid glycoside, common in saponins. These structural features are consistent with known triterpenoid compounds.' confidence='HIGH'\nFalse triterpenoid CHEBI:65988 113 C113H178O50\nchemical_class='other' explanation=\"The structure appears to be a complex molecule with multiple sugar residues and possibly various functional groups, indicating it's not a simple terpenoid chain or ring structure. Terpenoids typically consist of isoprene units forming specific structures, like monoterpenes (10 carbons), sesquiterpenes (15 carbons), diterpenes (20 carbons), sesterterpenes (25 carbons), and triterpenes (30 carbons). This structure seems more complex and doesn't fit neatly into these categories, suggesting it might be a glycoside or a complex natural product other than a straightforward terpenoid.\" confidence='HIGH'\nTrue triterpenoid CHEBI:65987 102 C102H162O48\nchemical_class='triterpenoid' explanation='The structure shown is a large complex of interconnected rings. Terpenoids are classified based on the number of isoprene units, each containing 5 carbons. In this structure, I observe six isoprene units (30 carbons), indicating a triterpenoid structure. The rings and branching patterns are consistent with typical triterpenoids, characterized by multiple fused rings. Additionally, the complexity and carbon count align with known triterpenoids.' confidence='HIGH'\nTrue triterpenoid CHEBI:65986 102 C102H162O48\nchemical_class='triterpenoid' explanation='The structure is a complex organic molecule composed of several six-membered rings and multiple branches. There is a network of 30 carbon atoms that form a backbone typical of triterpenoids, which are derived from a C30 precursor. The presence of multiple hydroxyl groups and possibly other functional groups further indicates it is a triterpenoid. The overall structural complexity with multiple rings and side chains aligns with what is typically observed in triterpenoids.' confidence='HIGH'\nTrue triterpenoid CHEBI:65759 60 C60H96O31\nchemical_class='triterpenoid' explanation='The chemical structure here contains six isoprene units, which is characteristic of a triterpenoid. The fundamental backbone of the structure follows the typical tetracyclic triterpene framework, often found in steroids or triterpenoid compounds. Moreover, this structure has additional sugar moieties attached, which are common in glycosylated triterpenoids. Each cyclic unit is saturated, showing a triterpenoid nucleus, coupled with multiple glycosidic bonds, giving it a complex appearance. The presence of 30 carbons specifically in the main carbon skeleton confirms its classification as a triterpenoid.' confidence='HIGH'\nTrue triterpenoid CHEBI:65758 60 C60H94O29\nchemical_class='triterpenoid' explanation=\"The structure consists of a set of four cyclohexane rings A, B, C, D and a cyclopentane ring E fused together, characteristic of a steroid backbone. This forms a perhydrocyclopentanophenanthrene base. The extended set of rings in conjunction with several oxygen-containing substituent groups and glycosidic linkages attached to this backbone is a signature of a saponin, which is typically derived from triterpenes. With 30 carbon atoms in the backbone, it fits the classification of a triterpenoid. The presence of additional sugar moieties linked to the structure is a common feature but doesn't alter the terpenoid classification.\" confidence='HIGH'\nTrue triterpenoid CHEBI:65757 66 C66H104O34\nchemical_class='triterpenoid' explanation='The structure features a cyclic backbone with 30 carbon atoms forming a large fused ring system. This is characteristic of triterpenoids, which are composed of six isoprene units (each contributing five carbons). The presence of additional functional groups, such as carbonyl (C=O) and hydroxyl (OH) groups, is common in many triterpenoids and contributes to their biological activity. The large structure and the nature of the carbon framework confirm the classification as a triterpenoid.' confidence='HIGH'\nTrue triterpenoid CHEBI:65756 60 C60H94O30\nchemical_class='triterpenoid' explanation='The structure depicted is a large molecule with a characteristic steroid nucleus made up of three hexane rings and one pentane ring, which is the typical backbone of a triterpenoid. These compounds are typically made up of six isoprene units, totaling 30 carbon atoms. The additional substituents and modifications such as glycosides do not alter the fundamental classification, as they are common in triterpenoid derivatives. The core structure is clearly that of a steroidal triterpenoid.' confidence='HIGH'\nTrue triterpenoid CHEBI:65755 60 C60H94O30\nchemical_class='triterpenoid' explanation='The structure features a classic pentacyclic triterpenoid framework with a total of thirty carbon atoms forming multiple six-membered rings and one five-membered ring. This arrangement is characteristic of the triterpenoid class. Furthermore, there are multiple glycosidic linkages attached to the core triterpenoid structure, indicative of complex triterpenoid glycosides often found in nature.' confidence='HIGH'\nTrue triterpenoid CHEBI:65426 64 C64H106O31\nchemical_class='triterpenoid' explanation='The structure features a steroid-like backbone which is characteristic of triterpenoids, consisting of six isoprene units, corresponding to 30 carbon atoms forming the main structure. Additionally, there are multiple sugar moieties attached to the core, indicating that this is a glycosylated triterpenoid known as a saponin. The steroid-like core includes three six-membered rings and one five-membered ring, typical of many triterpenoids.' confidence='HIGH'\nTrue triterpenoid CHEBI:65425 70 C70H116O36\nchemical_class='triterpenoid' explanation='The structure depicts a complex molecule with a steroid-like core, which is characteristic of triterpenoids. Triterpenoids are C30 compounds derived from the isoprene rule. In this image, you can see the steroidal core - four fused rings, commonly found in triterpenoids like saponins, sterols, or steroids. The presence of sugar moieties attached to the core further supports the classification as a saponin, which is a subclass of triterpenoids. The complex structure, including multiple hydroxyl groups, aligns with triterpenoid structures.' confidence='HIGH'\nTrue triterpenoid CHEBI:52551 68 C68H110O32\nchemical_class='triterpenoid' explanation=\"The structure exhibits a core of six isoprene units, which is a characteristic feature of triterpenoids. Triterpenoids are derivatives of squalene, typically with 30 carbon atoms forming a C30 structure. The presence of multiple hydroxyl and sugar group attachments suggests it's a complex triterpenoid structure often seen in saponins. The intricate pattern of ring formation and substituents is consistent with triterpenoids rather than other terpenoid classes.\" confidence='HIGH'\nTrue triterpenoid CHEBI:229202 63 C63H98O30\nchemical_class='triterpenoid' explanation='The structure depicted is quite complex, featuring multiple six-membered rings fused together, typical for steroids and related compounds. It includes a large number of carbon atoms arranged in a manner typical of triterpenoids, which are derived from the fusion of six isoprene units (C30). The presence of numerous oxygen atoms suggests that it could be a glycosylated derivative, which is common in natural products of this class like saponins or glycosides. The core structure and the complex substitution pattern, likely including multiple sugar moieties, supports the classification as a triterpenoid.' confidence='HIGH'\nFalse triterpenoid CHEBI:223501 65 C65H86O20\nchemical_class='other' explanation='The structure depicted is an ellagitannin, a polyphenolic compound, which is not a terpenoid. Terpenoids are typically composed of isoprene units (C5) and categorized based on the number of these units: monoterpenoids (C10), sesquiterpenoids (C15), diterpenoids (C20), sesterterpenoids (C25), triterpenoids (C30), etc. The structure shown is a polymeric polyphenol, characterized by multiple aromatic rings and is distinct from the isoprene-based structures of terpenoids.' confidence='HIGH'\nFalse triterpenoid CHEBI:223289 77 C77H106O30\nchemical_class='other' explanation='The structure is not a typical terpenoid structure. It appears to be a cyclic oligomer, specifically a cyclodextrin, consisting of multiple glucopyranose units. Terpenoids typically consist of isoprene units and are categorized based on the number of these units, such as monoterpenoids (2 units), sesquiterpenoids (3 units), diterpenoids (4 units), etc. This structure is carbohydrate-based, not formed from isoprene units, hence it falls outside the terpenoid classification.' confidence='HIGH'\nFalse triterpenoid CHEBI:222543 77 C77H98O30\nchemical_class='other' explanation='The structure depicted is not a traditional linear or cyclic carbon backbone characteristic of terpenoids. Instead, it seems to be a larger, complex molecule likely composed of multiple repeated units. Terpenoids are typically classified based on their isoprene units (C5H8)n. Monoterpenoids contain two isoprene units, sesquiterpenoids have three, diterpenoids have four, sesterterpenoids have five, and triterpenoids have six. The presence of numerous oxygens and more complex ring structures suggests that this molecule likely does not fall into these traditional terpenoid categories. This appears to be a macrocyclic structure, possibly a polysaccharide or a cyclic oligosaccharide, as it has a regular repeating pattern and seems to include sugar-like rings. The extensive use of oxygen indicates glycosidic linkages or possibly ester groups, which are not characteristic of simple terpenes. Therefore, it is classified as \"other.\"' confidence='HIGH'\nTrue triterpenoid CHEBI:221737 61 C61H94O18\nchemical_class='triterpenoid' explanation='The structure features extensive cyclic systems and a large carbon backbone that appears to contain six isoprene units, characteristic of triterpenoids. The complex ring structure and numerous oxygen-containing functional groups present are typical motifs found in triterpenoids derived from squalene precursor structures, which contain 30 carbon atoms in total. The arrangement and size align with a triterpenoid classification.' confidence='HIGH'\nTrue triterpenoid CHEBI:221384 61 C61H88O17\nchemical_class='triterpenoid' explanation='The structure shown has a long carbon chain characteristic of terpenoids. This compound specifically exhibits six isoprene units (each isoprene unit having five carbon atoms) as evidenced by the presence of 30 carbon atoms structured in a polycyclic arrangement. Such a framework fits the definition of a triterpenoid, which consists of six isoprene units. Furthermore, the multi-ring system with attached oxygen-containing functional groups suggests modifications typical of many triterpenoids.' confidence='HIGH'\nFalse triterpenoid CHEBI:221237 77 C77H104O30\nchemical_class='other' explanation='The structure shown is a large, cyclic molecule with repeating glucose units. It appears to be a cyclic oligosaccharide known as a cyclodextrin. Terpenoids are usually not structured as large cyclic glucans but rather as chains with varying numbers of isoprene units. Therefore, the structure does not fit into the typical terpenoid categories of monoterpenoids, sesquiterpenoids, diterpenoids, sesterterpenoids, or triterpenoids. Instead, it is classified as a cyclodextrin, which falls under carbohydrates, not terpenoids.' confidence='HIGH'\nFalse triterpenoid CHEBI:218295 61 C61H94O17\nchemical_class='Other' explanation='The structure depicted shows a complex arrangement with multiple rings, oxygen-containing functional groups, and several carbohydrate-like moieties. This does not resemble the typical structures of standard terpenoids, such as the cyclic hydrocarbons found in monoterpenoids, sesquiterpenoids, diterpenoids, sesterterpenoids, or triterpenoids. Instead, the presence of multiple sugar rings suggests it may belong to a class like glycosides or a complex natural product with multiple functional components. Such a structure does not align with the typical isoprene unit-based classification of terpenes.' confidence='HIGH'\nFalse triterpenoid CHEBI:204918 65 C65H82O20\nchemical_class='other' explanation=\"The structure in the image is not of a typical linear or cyclic terpene, but instead appears to be a large macrocyclic compound with multiple repeating units. The compound contains numerous hydroxyl (OH) and carbonyl (C=O) functional groups, and it is highly oxidized with many oxygen atoms. Such structures are commonly found in polyketides or macrolides rather than in terpene categories like monoterpenoids, sesquiterpenoids, diterpenoids, sesterterpenoids, or triterpenoids. Therefore, its classification would be better suited to 'other.'\" confidence='HIGH'\nFalse triterpenoid CHEBI:197805 65 C65H84O20\nchemical_class='other' explanation='The structure depicted is a large macrocyclic molecule with multiple sugar-like rings and an extensive cyclic backbone. It does not fit the typical linear or cyclic carbon skeleton pattern seen in terpenoids (such as monoterpenoids, sesquiterpenoids, diterpenoids, sesterterpenoids, or triterpenoids), which are typically made from isoprene units (C5H8). This molecule appears to be more structurally complex and contains many oxygens in the form of hydroxyl groups and carbonyls, indicative of sugars or polysaccharide components rather than a terpenoid structure. The symmetrical and repeating units suggest a macrocyclic oligosaccharide, possibly a cyclodextrin or similar compound, which is outside the classification of terpenoids.' confidence='HIGH'\nTrue triterpenoid CHEBI:194571 60 C60H88O10\nchemical_class='triterpenoid' explanation='The structure presented is quite complex with several repeating isoprene units. Upon analyzing the structure, there are 30 carbon atoms available, arranged into multiple rings and chains. This is characteristic of a triterpenoid, which is composed of six isoprene units. The complex ring structure and the number of carbons indicate this categorization as a triterpenoid, distinguishing it from smaller terpenoid classes such as monoterpenoids, sesquiterpenoids, or diterpenoids.' confidence='HIGH'\nFalse triterpenoid CHEBI:188312 1 C46H64O6.CH4\nchemical_class='other' explanation=\"The structure in the image depicts ubiquinone, also known as coenzyme Q, which is not a conventional terpene. It consists of a long isoprenoid (polyisoprenyl) tail attached to a quinone moiety. While the tail is composed of several isoprene units, these structures are usually discussed in the context of biological quinones rather than the terpene classification system. Therefore, it fits into the category of 'other,' as it is not exclusively any of the standard terpenoid classifications listed (monoterpenoid, sesquiterpenoid, etc.).\" confidence='HIGH'\nTrue triterpenoid CHEBI:186598 82 C82H154O6\nchemical_class='triterpenoid' explanation='This structure consists of 30 carbon atoms and appears to be highly cyclic, typical of triterpenoids. The presence of several interconnected cyclohexane rings or similar structures also supports this classification. Triterpenoids are characterized by their large, complex ring structures, which this structure exhibits. Additionally, the distinct arrangement and number of rings suggest a complex and large terpenoid type, fitting into the triterpenoid category.' confidence='HIGH'\nTrue triterpenoid CHEBI:185292 64 C64H116O2\nchemical_class='triterpenoid' explanation='The structure depicted is a cholesterol molecule, which is a common triterpenoid. Triterpenoids are based on a 30-carbon backbone derived from six isoprene units. Observing the backbone of the structure, the typical four-ring steroid core, including three cyclohexane rings and one cyclopentane ring, is present, along with the aliphatic side chain. This satisfies the requirement of a triterpenoid structure.' confidence='HIGH'\nTrue triterpenoid CHEBI:183959 63 C63H98O29\nchemical_class='triterpenoid' explanation='The displayed structure consists of multiple fused six-membered rings forming a steroid-like backbone. This is indicative of a triterpenoid structure, which is built upon a C30 precursor commonly forming complex structures with multiple ring fusions. Additionally, the various oxygen atoms (likely as hydroxyl groups or ethers) and glycosidic linkages are modifications often seen in triterpenoid glycosides.' confidence='HIGH'\nTrue triterpenoid CHEBI:145175 70 C70H110O35\nchemical_class='triterpenoid' explanation='The structure consists of a 30-carbon skeleton which is indicative of a triterpenoid. It is built from six isoprene units. The core consists of four six-membered rings, a typical feature of triterpenoids such as steroids. This classification is made clear by the presence of these typical features. Additionally, there are multiple sugar moieties attached, showing it may be a glycosylated form, common in natural triterpenoids.' confidence='HIGH'\nTrue triterpenoid CHEBI:145174 64 C64H100O31\nchemical_class='triterpenoid' explanation='The structure is based on a core framework that resembles lanosterol or similar triterpenoid backbones, commonly containing 30 carbon atoms. There is a characteristic four-ring fused structure, indicating a sterol-type framework often found in triterpenoids. Additionally, the presence of multiple sugar moieties attached suggests a glycoside form, which is typical for certain triterpenoids. The structure does not fit into smaller terpenoids like monoterpenoids, sesquiterpenoids, or diterpenoids due to the size and complexity of the core.' confidence='HIGH'\nTrue triterpenoid CHEBI:145169 65 C65H102O31\nchemical_class='triterpenoid' explanation='The structure shown has a steroid-like backbone consisting of four connected rings typical for triterpenoids, with additional sugar moieties attached, which is common in glycosides of steroidal triterpenes. Triterpenoids have a carbon skeleton of C30, and this structure is consistent with that classification. The presence of the characteristic rings, along with the carbon count and arrangement, support this classification.' confidence='HIGH'\nTrue triterpenoid CHEBI:145168 70 C70H110O35\nchemical_class='triterpenoid' explanation='The structure shown contains a six-membered polycyclic core, which suggests a triterpene skeleton. Triterpenes typically have a structure based on a 30-carbon skeleton, often derived from the cyclization of squalene. This molecule also includes multiple hydroxyl and glycosidic linkages that are common in complex triterpenoid glycosides. Since it follows with the basic structure of a triterpene, this is a triterpenoid.' confidence='HIGH'\nTrue triterpenoid CHEBI:145159 70 C70H110O36\nchemical_class='triterpenoid' explanation='This structure appears to be based on a pentacyclic triterpene backbone, which is common in triterpenoids. The structure contains three six-membered rings and two five-membered rings fused together, forming the core characteristic of triterpenes. This core is followed by a series of sugars making it a glycoside of a triterpene, often referred to as a saponin. The presence of 30 carbon atoms in the triterpene framework further confirms this classification. The additional sugar moiety and functional groups are typical for complex naturally occurring triterpenoids.' confidence='HIGH'\nTrue triterpenoid CHEBI:145154 65 C65H102O32\nchemical_class='triterpenoid' explanation='The structure in the image consists of a core made up of six isoprene units that form a steroid-like structure, which is characteristic of the triterpenoid class. Triterpenoids are composed of thirty carbon atoms arranged into six isoprene units. In the structure, a three-ring system, similar to steroids, is present, along with various functional groups such as hydroxyls and glycosidic linkages. These features are indicative of triterpenoid saponins, often found in complex plant-derived substances.' confidence='HIGH'\nTrue triterpenoid CHEBI:145146 70 C70H110O36\nchemical_class='triterpenoid' explanation='The structure consists of a characteristic four-ring core common to steroids and triterpenes, which is derived from the cyclization of squalene. This includes three six-membered rings and one five-membered ring. The structure also features multiple sugar moieties attached to the main triterpene core, typical of glycosylated triterpenoids. The presence of these distinct features supports its classification as a triterpenoid.' confidence='HIGH'\nTrue triterpenoid CHEBI:145145 69 C69H110O36\nchemical_class='triterpenoid' explanation='The structure shown has a core consisting of a series of six-membered carbon rings, typical of the lupane, oleanane, or ursane triterpene skeletons. Triterpenes are composed of six isoprene units, leading to a total of 30 carbon atoms in the core part. This structure also features multiple hydroxyl and carbonyl groups, which are common in many natural triterpenoids. The rings and attached groups are complex and indicate a high level of functionalization typical of these compounds.' confidence='HIGH'\nTrue triterpenoid CHEBI:145144 75 C75H118O40\nchemical_class='triterpenoid' explanation='The structure is composed of 30 carbon atoms forming six isoprene units, characteristic of a triterpenoid. The core structure includes three six-membered rings and a five-membered ring, typical of steroidal triterpenoids. Additionally, there are various sugar moieties attached, which are not part of the core terpenoid structure but are common in glycosylated triterpenoids.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:227322 61 C61H90N2O23\nchemical_class='other' explanation='The structure exhibits complex steroid-like features, intricate ring systems, and it deviates significantly from the typical carbon arrangements and functionalities seen in terpenoids. Terpenoids are typically constructed from isoprene units with a base formula of (C5H8)n. This complex structure features diverse functional groups and ring systems that do not align with traditional terpenoid categories such as monoterpenoids, sesquiterpenoids, diterpenoids, sesterterpenoids, or triterpenoids. It appears more aligned with a polyketide structure or another complex biosynthetic class rather than a simple terpenoid.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:227316 61 C61H90N2O22\nchemical_class='other' explanation='The given structure is a complex organic molecule that does not correspond to any of the classical categories of terpenoids (monoterpenoid, sesquiterpenoid, diterpenoid, sesterterpenoid, or triterpenoid). Terpenoids are generally characterized by their multiple isoprene units (C5H8) organized into specific groupings: monoterpenoids (C10), sesquiterpenoids (C15), diterpenoids (C20), sesterterpenoids (C25), and triterpenoids (C30).\\\\n\\\\nThis structure has a more intricate arrangement, with multiple rings of various sizes and several heteroatoms, including nitrogen and oxygen, along with functionality that is not typical of simple terpenoid structures. It appears to have polyketide or other biosynthetic origin, indicating it may be a natural product from a different class.\\\\n\\\\nThe presence of lactone rings, ether linkages, and possibly other non-terpenoid elements suggests that it belongs to another category of natural compounds, likely a macrolide or similar complex structure often seen in bioactive natural products.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:227311 61 C61H91NO20\nchemical_class='diterpenoid' explanation='The structure shown is a complex natural product featuring a diterpenoid core, as indicated by a carbon skeleton containing a series of repeating isoprene units (each containing five carbon atoms). Specifically, it is made up of 20 carbon atoms, typical for diterpenoids. Additionally, the presence of fused rings and several oxygen-containing functional groups are common in diterpenoids. Although the structure is more elaborate due to additional functionalization and ring systems, the terpenoid core is the key structural element.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:225151 61 C61H86N2O22\nchemical_class='triterpenoid' explanation='The structure shown in the image appears to have a large carbon framework typical of a triterpenoid. Triterpenoids are composed of six isoprene units which contribute to 30 carbon atoms forming a complex base skeleton. The structure in the image exhibits multiple cyclic formations and a significant quantity of carbon, consistent with the characteristics of triterpenoids. No anomalies in ring structure suggest deviation from this classification. There is also no indication of smaller, distinct terpene units that would suggest a classification as a different type of terpenoid.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:225057 55 C55H76N2O19\nchemical_class='diterpenoid' explanation='The structure shown is typical of a diterpenoid. Diterpenes are composed of four isoprene units, resulting in a C20 backbone. The image depicts a complex ring structure with multiple substituents, which is common in diterpenoids. Additional functional groups, such as oxygens, are present, further showcasing the complexity often found in this class of compounds.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:223179 53 C53H90O20\nchemical_class='triterpenoid' explanation='The chemical structure is complex with multi-ring formations, extended carbon chains, and oxygen-containing functional groups. It consists of a large number of carbon atoms, which suggests a triterpenoid structure, as these typically contain around 30 carbon atoms forming six isoprene units. The presence of multiple rings and oxygen atoms may also indicate functional group substitutions on the typical backbone seen in many terpenoids.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:222849 61 C61H92N2O19\nchemical_class='other' explanation=\"The depicted structure is highly complex, featuring several sugar moieties attached to a core section that resembles a larger macrolide ring structure. However, the presence of multiple oxygen atoms, several ring structures, and a general appearance resembling macrolide antibiotics suggests that this compound is not a typical terpenoid but rather fits better in categories of complex natural compounds like antibiotics. Terpenoids are typically classified based on the number of isoprene units, and this structure doesn't align with those categories.\" confidence='HIGH'\nFalse sesterterpenoid CHEBI:220902 61 C61H113NO24\nchemical_class='other' explanation='The structure shown is a large macrocyclic compound with multiple pyrrole rings linked by methylene bridges and ester linkages, characteristic of porphyrin derivatives rather than terpenoids. The core structure is not based on the isoprene units typical of terpenoids. Instead, this molecule has a highly conjugated cyclic backbone typical of chlorophylls or heme groups.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:220305 61 C61H90N2O21\nchemical_class='other' explanation='The structure depicted features several complex fused rings and other non-terpenoid structures, indicating that this is not a simple terpenoid. Terpenoids are typically categorized by their isoprene units (C5H8). Monoterpenoids have 2 isoprene units, sesquiterpenoids have 3, diterpenoids have 4, sesterterpenoids have 5, and triterpenoids have 6. The image, however, shows more complexity and deviations that include nitrogen atoms and glycosidic linkages that are not characteristic of basic terpenoid structures. Therefore, this structure falls outside the typical classification of terpenoids.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:219654 67 C67H96N2O24\nchemical_class='other' explanation='The structure depicted is complex, showing several distinct ring systems and functional groups outside the typical classifications for simple terpenoids. It appears to contain multiple aromatic and heterocyclic rings, elaborate oxygen-containing groups, and appears too intricate for typical terpenoid categories like monoterpenoid, sesquiterpenoid, diterpenoid, sesterterpenoid, or triterpenoid. Instead, the complexity suggests it could be a structure belonging to a class of complex natural products or alkaloids, perhaps a type of macrocycle or polyketide.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:217436 57 C57H72N2O13\nchemical_class='diterpenoid' explanation='The structure contains four isoprene units, each consisting of five carbon atoms, resulting in a total of 20 carbon atoms, as is characteristic of diterpenoids. The presence of multiple cyclic ring systems and several hydroxyl and ketone functional groups further supports this classification. The arrangement and number of isoprene units match with that of a diterpenoid. Additional features, such as the complex ring systems and functional groups, align with known diterpenoids in nature.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:217428 57 C57H72N2O13\nchemical_class='triterpenoid' explanation='The structure contains six isoprene units, identified by the arrangement of carbons and the characteristic grouping pattern typical for terpenoids. It forms a complex polycyclic structure with multiple fused six-membered rings. The presence of various functional groups (hydroxyls and carbonyls) does not alter its classification as a triterpenoid. Triterpenoids typically have 30 carbons, aligning with the presence of six isoprene units observed here.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:217361 51 C51H72N4O16\nchemical_class='other' explanation=\"The structure in the image is complex, featuring multiple rings and heteroatoms (notably oxygen and nitrogen). Typical terpenoids such as monoterpenoids, sesquiterpenoids, diterpenoids, sesterterpenoids, and triterpenoids primarily consist of hydrocarbon chains and rings forming isoprene units (C5H8)n. In this structure, the presence of additional ring systems and functional groups deviates from the typical isoprene rule. This suggests it is not a typical terpenoid but rather belongs to a different class of natural compounds or complex molecules. The configuration and the nature of rings (especially if aromatic or heterocyclic) imply it may be an alkaloid or another kind of secondary metabolite. The structure has distinct characteristics that separate it from the typical terpenoid constructs.\\nTherefore, this molecule likely falls into the 'other' category for classification purposes.\" confidence='HIGH'\nFalse sesterterpenoid CHEBI:217355 51 C51H76N4O12\nchemical_class='diterpenoid' explanation='The structure consists of a fused ring system that includes four six-membered rings with various oxygen-containing functional groups attached. The molecule falls into the diterpenoid category, which typically comprises structures with 20 carbon atoms arranged in multiple rings. The complexity and the number of functional groups further support this classification.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:217349 51 C51H76N4O13\nchemical_class='triterpenoid' explanation='The structure is quite complex, featuring six isoprene units which are indicative of a triterpenoid structure. This class is composed of 30 carbon atoms and often forms a steroid-like or squalene structure, as seen here. The multiple rings and the complexity of the structure are characteristic of triterpenoids, often utilized in various biological applications. Additionally, the presence of various functional groups and modifications, further implies the complex nature and functional use often seen in triterpenoids.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:217342 51 C51H74N4O14\nchemical_class='diterpenoid' explanation='The structure appears to be a macrolide, which is a class of natural products that often includes terpenoid compounds. Given the size and complexity of the structure, including multiple ring systems and oxygen-containing functional groups, it is consistent with a diterpenoid, which typically has 20 carbon atoms derived from four isoprene units. Other terpenoid classes like monoterpenoids or sesquiterpenoids are generally smaller, while triterpenoids are larger. The complexity and size point to the diterpenoid classification.' confidence='MEDIUM'\nFalse sesterterpenoid CHEBI:217337 51 C51H74N4O15\nchemical_class='other' explanation=\"The structure in the image consists of fused rings and multiple ester and hydroxyl functional groups. The backbone features a macrocyclic ring (a large ring structure) with additional pendant lactone rings and sugar moieties. This complex structure does not match the typical structural patterns of terpenoids, which are primarily based on the isoprene unit pattern (C5H8)n. Instead, this structure is more consistent with a macrolide antibiotic, which is a class of compounds known for these characteristics. Hence, it is classified as 'other', not fitting the standard terpenoid categories.\" confidence='HIGH'\nFalse sesterterpenoid CHEBI:216346 69 C69H102N2O22\nchemical_class='other' explanation='Upon analyzing the structure, it is evident that this molecule is more complex than typical terpenoids which are built from isoprene units. Terpenoids are generally categorized based on the number of isoprene (C5H8) units they contain: monoterpenoids (C10), sesquiterpenoids (C15), diterpenoids (C20), sesterterpenoids (C25), triterpenoids (C30), etc. This structure contains additional functional groups and ring systems that make it atypical for a straightforward classification as one of the terpenoid categories mentioned. The structure seems to have a more complex framework, possibly including steroidal or alkaloid features, common in natural products with diverse functional modifications. This structure is likely beyond the simple categorization into terpenoid classes based solely on carbon count and arrangement as it may not directly follow the isoprene rule.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:215901 50 C50H64O14\nchemical_class='diterpenoid' explanation='The structure presented exhibits a complex arrangement of rings and substituents, characteristic of diterpenoids. Typically, diterpenoids contain 20 carbon atoms, often arranged in four isoprene units. This molecule has features that align well with these criteria, including the presence of multiple isoprenoid units forming a polycyclic compound. The characteristic diterpenoid backbone, along with additional oxygenated functional groups, indicates its classification as a diterpenoid.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:213623 61 C61H90N2O20\nchemical_class='other' explanation='The provided chemical structure is complex, containing multiple rings and functional groups. It does not fit the typical isoprene unit multiples seen in monoterpenoids (C10), sesquiterpenoids (C15), diterpenoids (C20), sesterterpenoids (C25), or triterpenoids (C30). The structure also includes nitrogen atoms, suggesting the presence of alkaloid-like features which are not typical for pure terpenoids. Overall, it appears to be a complex natural product that does not conform to standard terpenoid classifications.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:213524 61 C61H88N2O21\nchemical_class='other' explanation='The chemical structure depicted in the image is not a straightforward terpenoid compound. Terpenoids are typically categorized based on the number of isoprene units (C5H8) they contain, such as monoterpenoids (10 carbons), sesquiterpenoids (15 carbons), diterpenoids (20 carbons), and so on. This structure, however, is much more complex and does not fit these categories due to the presence of several non-hydrocarbon functional groups and multiple ring systems. The presence of lactone rings, amide groups, and extensive cyclic structures suggests it belongs to another class of complex organic compounds, likely a larger macrocyclic compound.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:213314 56 C56H75ClO19\nchemical_class='triterpenoid' explanation='The structure displayed appears to be a triterpenoid. Triterpenoids typically contain 30 carbon atoms, arranged in a structure based on six isoprene units. The intricate ring system and the presence of numerous hydroxyl, ketone, and ester groups further indicate a complex triterpene structure. This molecule also has polycyclic frameworks common in triterpenoids. Given these observations, the classification as a triterpenoid is made with high confidence.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:213281 68 C68H96N2O26\nchemical_class='triterpenoid' explanation='The structure shown is composed of six isoprene units, indicating that it belongs to the class of triterpenoids, which are characterized by having 30 carbon atoms derived from the combination of six isoprene units. The structure appears complex with multiple ring systems and functional groups, typical of triterpenoids. These are often involved in forming more complex structures with various pharmacological activities.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:212785 61 C61H92N2O19\nchemical_class='other' explanation='The structure shown is a complex glycoside and does not fit neatly into the typical categories of terpenoids. It contains multiple sugar moieties and appears to be a cardenolide or steroidal glycoside rather than a simple terpenoid structure. The presence of multiple sugar rings, oxygen heteroatoms, and a distinctive lactone ring with a steroid-like framework excludes it from monoterpenoid, sesquiterpenoid, diterpenoid, sesterterpenoid, or triterpenoid classes.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:212621 61 C61H92N2O20\nchemical_class='other' explanation='The structure is complex and appears to contain multiple aromatic rings and numerous oxygen-containing functional groups. It does not resemble typical linear or cyclic arrangements of monoterpenoids, sesquiterpenoids, diterpenoids, sesterterpenoids, or triterpenoids, which are generally built from isoprene units arranged in simple patterns. This structure likely belongs to a different class of natural compounds, possibly involving aromatic scaffolds with glycosidic linkages.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:211548 62 C62H115NO24\nchemical_class='other' explanation=\"The structure shown is not a common terpenoid. It consists of a long chain with multiple alternating double and single bonds, along with several oxygen atoms (possibly indicating hydroxyl groups), and a terminal nitrogen-containing group, implying it is likely a polyketide or another type of compound rather than a simple terpenoid. Terpenoids typically have isoprene units (multiples of 5 carbons). This compound has a far longer and more complex carbon backbone and doesn't fit the standard terpenoid categories.\" confidence='HIGH'\nFalse sesterterpenoid CHEBI:208447 56 C56H75ClO18\nchemical_class='triterpenoid' explanation='The structure shown is highly complex with multiple fused rings and a large number of oxygen-containing functional groups. It has a steroid backbone indicative of many triterpenoids. Specifically, it seems to be glycyrrhizin, a well-known triterpenoid saponin. The characteristic cyclopentanoperhydrophenanthrene ring system, along with additional glycosidic attachments, confirms its classification as a triterpenoid.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:207568 61 C61H88N2O20\nchemical_class='other' explanation='The chemical structure depicts a complex molecule with multiple ring systems, including aromatic and various heterocyclic rings, along with several oxygen substituents and possible nitrogen elements. The presence of numerous functional groups such as lactones and potential glycosidic linkages deviates from typical simple terpenoid structures. Terpenoids are usually classified by multiples of 5-carbon isoprene units, leading to monoterpenoids (10 carbons), sesquiterpenoids (15 carbons), diterpenoids (20 carbons), etc. This structure does not match those categories due to its complex multi-ring system and functional diversity, which extend beyond typical terpenoid features.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:207562 64 C64H92N2O21\nchemical_class='Other' explanation='The structure in the image features complex fused ring systems, multiple oxygen atoms, and appears to contain both aromatic and non-aromatic rings. It includes functional groups such as ethers, lactones, and possibly amide groups, which indicate a highly functionalized structure. It does not conform to the typical structural units found in monoterpenoids, sesquiterpenoids, diterpenoids, sesterterpenoids, or triterpenoids, which are usually based on isoprene units and have distinct carbon skeletons such as C10, C15, C20, C25, and C30. The presence of these diverse functional groups suggests it is more likely classified as a complex natural product not falling within basic terpenoid classes.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:207554 64 C64H92N2O20\nchemical_class='other' explanation='The structure contains multiple rings and functional groups, including oxygen-containing functional groups, which are typical in complex organic molecules. It does not fit the typical pattern of terpenoids, which are constructed from isoprene units (C5H8). The core structure does not resemble the typical backbone of common terpenoid types like monoterpenoids (C10), sesquiterpenoids (C15), diterpenoids (C20), etc. This particular structure appears to be a complex organic compound that likely does not belong to the standard terpenoid classification and is more likely a different type of natural product.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:207548 70 C70H102N2O22\nchemical_class='triterpenoid' explanation='The structure is characterized by six cyclohexane rings interconnected, and it appears to have a complex polycyclic skeleton typical of triterpenoids. The scaffold exhibits multiple six-membered rings with additional functional groups like hydroxyl (OH) and ester groups. This type of fused ring system with approximately 30 carbon atoms corresponds well to a triterpenoid. Additionally, it exhibits functional complexity and diverse attachments, including oxygens and a nitrogen which are common in modified triterpenoids.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:207543 64 C64H90N2O23\nchemical_class='other' explanation='The molecule depicted in the image is not clearly identifiable as a typical terpenoid structure like monoterpenoids, sesquiterpenoids, diterpenoids, sesterterpenoids, or triterpenoids. Traditional terpenes are built from isoprene units (C5H8) and typically show a defined carbon skeleton. The structure in the image features complex ring systems, multiple carbonyl groups, and nitrogen-containing moieties, which suggest it is likely a more complex structure, possibly an alkaloid or another class.\\n\\nThe cyclohexane and aromatic benzene-like rings, along with ester and amide linkages, indicate a complex and diverse functionality, which is not typical for simple terpenoids. Therefore, it belongs to a different chemical class.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:207538 64 C64H90N2O22\nchemical_class='other' explanation='The structure in the image represents a complex molecule with multiple aromatic rings, lactone functionalities, and sugar moieties attached. It does not follow the classical C5n (where n is an integer) carbon skeleton typical of the terpenoid family. Terpenoids classically have isoprene units, and this structure looks more like a complex macrocyclic or polycyclic compound, possibly a natural product of a different class such as an anthracycline or a glycoside.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:207531 70 C70H100N2O24\nchemical_class='other' explanation=\"The structure is highly complex and consists of multiple distinct parts. It includes several hexose moieties (sugar units), complex polycyclic structures, and a diverse array of functional groups including ethers and hydroxyls. This is characteristic of a macrolide or a related large macromolecule rather than a simple terpenoid structure, which are usually organized in chains or rings of isoprene units (multiples of C5). There is no repeated pattern of isoprene units typically seen in terpenoids. Therefore, it falls under 'other' rather than being classified within the provided terpenoid categories.\" confidence='HIGH'\nFalse sesterterpenoid CHEBI:205724 61 C61H91NO17\nchemical_class='triterpenoid' explanation='The structure shown is a complex ring system typical of triterpenoids, which are characterized by having thirty carbon atoms. This structure features multiple six-membered and five-membered rings, indicative of a steroidal framework, which is common in triterpenoid compounds. Additionally, the presence of multiple hydroxyl groups and other functional modifications are typical derivations found in natural triterpenoids. Based on the complexity and carbon count, it does not fit into the smaller categories of monoterpenoids, sesquiterpenoids, diterpenoids, or sesterterpenoids. Therefore, the classification as a triterpenoid is appropriate.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:205610 61 C61H90N2O22\nchemical_class='other' explanation='The structure depicted is complex, featuring multiple aromatic rings, likely indicating a non-terpenoid chemical such as an alkaloid or a complex polycyclic compound. The presence of nitrogen atoms also suggests it is not a standard terpenoid, which are typically hydrocarbons or contain only oxygen as a heteroatom. The diverse functional groups and complexity move it away from basic terpenoid structures, which are simple isoprene derivatives categorized by carbon skeleton size such as monoterpenoids (C10), sesquiterpenoids (C15), diterpenoids (C20), sesterterpenoids (C25), and triterpenoids (C30).' confidence='HIGH'\nFalse sesterterpenoid CHEBI:205609 67 C67H100N2O24\nchemical_class='Other' explanation='The structure depicted contains several fused non-aromatic rings and contains heteroatoms such as oxygen and nitrogen, which suggests the presence of multiple different functionalities. The complexity of the structure, along with multiple specialized ring systems and heteroatoms, indicates that this compound is more likely an alkaloid or another specialized class of natural products, rather than a simple terpenoid like those classified as monoterpenoids, sesquiterpenoids, diterpenoids, sesterterpenoids, or triterpenoids. Terpenoids typically have isoprene units and more uniform ring systems without the incorporation of nitrogen in the core structure.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:205410 62 C62H93NO17\nchemical_class='triterpenoid' explanation='The structure presented is characterized by six isoprene units, as deduced from its ring formations and carbon count. This indicates that the compound falls in the category of triterpenoids, which typically have 30 carbon atoms. The structure includes multiple ring systems, some of which contain oxygen and nitrogen atoms, typical of complex sterol-type structures. The presence of a sterol backbone alongside various functional groups supports its classification as a triterpenoid.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:204520 50 C50H65NO13\nchemical_class='triterpenoid' explanation='The structure contains six isoprene units (C5H8 each), which collectively form a trisaccharide core typical of triterpenoids. The presence of three six-membered rings and one five-membered ring connected in a steroidal framework is a distinguishing feature of triterpenoids. Additionally, the various functional groups and modifications like epoxides and hydroxyls add complexity typical of this class.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:203431 54 C54H78N2O17\nchemical_class='other' explanation='The structure depicted is not a straightforward terpenoid. Terpenoids typically consist of repeating isoprene (C5H8) units arranged in a characteristic pattern. Monoterpenoids have 10 carbons, sesquiterpenoids have 15, diterpenoids have 20, sesterterpenoids have 25, and triterpenoids have 30. The provided structure is more complex, resembling a macrolide with multiple lactone rings and functional groups, which do not conform to the simple isoprene rule of standard terpenoids.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:203312 68 C68H103NO19\nchemical_class='triterpenoid' explanation='The chemical structure shown depicts a complex molecule made up of six isoprene units, as observed in the terpenoid class known as triterpenoids. This structure has a polycyclic backbone with noticeable carbon-carbon double bonds and substituents typical of oxidative forms, such as the presence of an ether linkage and a nitrogen-containing functional group (in blue). Given the number of cyclohexane and cyclopentane rings, which are typical of steroid and triterpenoid skeletons, along with an extended chain of rings and functional groups, it fits the triterpenoid category. This detailed observation of the rings and linkages leads to a confident classification.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:203131 61 C61H92N2O19\nchemical_class='other' explanation='The structure is complex with multiple fused rings and several functional groups, such as hydroxyl (-OH) and carboxyl (C=O) groups, connected to sugar-like subunits. These features are characteristic of macrolides or polyether compounds, rather than simple terpenoids, which are typically classified by multiples of isoprene units. The presence of polysaccharide-like chains further supports this classification beyond standard terpenoid categories.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:202825 93 C93H178O3\nchemical_class='other' explanation='The structure shown is a large, branched hydrocarbon with oxygen atoms present, likely indicating ether linkages or similar functional groups. It consists of significantly more than 30 carbon atoms, breaking it down from the terpenoid classification. Terpenoids typically adhere to isoprene units with classifications based on multiples of five carbon atoms (10 for monoterpenoids, 15 for sesquiterpenoids, etc.). This structure, with its complexity and branching, does not fit into the classic terpenoid categories and is instead likely representing a different class of compounds such as a polyether or a synthetic polymer.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:202112 61 C61H88N2O21\nchemical_class='other' explanation=\"The structure depicted is a complex macrolide with multiple ring systems and ester linkages. It appears to be an intricate organic molecule rather than a typical terpenoid, as it does not follow the isoprene rule or exhibit the typical carbon skeletons associated with monoterpenoids (C10), sesquiterpenoids (C15), diterpenoids (C20), sesterterpenoids (C25), or triterpenoids (C30). The presence of heteroatoms such as oxygen and nitrogen, along with the structural intricacy, suggests that this is classified as 'other' rather than fitting into conventional terpenoid categories.\" confidence='HIGH'\nFalse sesterterpenoid CHEBI:201795 67 C67H101NO20\nchemical_class='other' explanation=\"The structure in the image appears to be a complex polycyclic compound with multiple aromatic rings and various functional groups including keto groups and ether linkages. It doesn't fit comfortably into the typical terpenoid categories, which are primarily characterized by repeating isoprene units (n C5H8 units), distinctive hydrocarbon chains, and rings. \\n\\nThis compound has unusual branching and rings that signify it may belong to a different class or specific family outside the standard terpenoid classification (e.g., complex plant secondary metabolites). Therefore, it's classified as 'other' and not as a monoterpenoid, sesquiterpenoid, diterpenoid, sesterterpenoid, or triterpenoid with HIGH confidence.\" confidence='HIGH'\nFalse sesterterpenoid CHEBI:201335 69 C69H100N2O24\nchemical_class='other' explanation='The structure shown contains multiple rings, including a complex array of oxygen heterocycles and a lactone ring, which do not conform to typical terpenoid structures. Terpenoids are generally classified by isoprene units (C5H8), such as monoterpenoids (C10), sesquiterpenoids (C15), etc., but this structure appears to contain more diversity and complexity beyond simple hydrocarbon chains or rings. It likely represents a polyketide or other complex natural product class rather than a simple terpenoid type.' confidence='HIGH'\nFalse sesterterpenoid CHEBI:200655 67 C67H101NO19\nchemical_class='other' explanation='The structure displayed is highly complex, containing multiple fused rings, heteroatoms, and a significant level of branching. While the terpenoid classification commonly involves repeating isoprene units leading to structures typically composed of multiples of five carbon atoms (e.g., C10 for monoterpenoids, C15 for sesquiterpenoids, etc.), this molecule features atypical structural components that do not suggest it fits into the simple classifications of monoterpenoids, sesquiterpenoids, diterpenoids, sesterterpenoids, or triterpenoids.' confidence='HIGH'\nFalse diterpenoid CHEBI:94606 43 C43H53NO14\nchemical_class='other' explanation='The chemical structure depicted is complex with multiple rings, including aromatic rings and various functional groups such as esters and hydroxyl groups. Terpenoids typically have a repetitive isoprene unit pattern, but this structure lacks the classical isoprene-derived modular appearance. Instead, it shows a combination of aromatic and non-aromatic rings with several substituent groups, suggesting it is not a simple terpenoid structure. It closely resembles more complex organic compounds, likely falling outside the typical basic terpenoid classifications of monoterpenoid, sesquiterpenoid, diterpenoid, etc.' confidence='HIGH'\nFalse diterpenoid CHEBI:94460 41 C41H74O7\nchemical_class='triterpenoid' explanation=\"The structure in the image consists of 30 carbon atoms arranged in a cyclic and acyclic hydrocarbon chain typical of triterpenoids. Triterpenoids are derived from the repetitive isoprene unit which can be seen in the cyclic arrangements and linear chains. The five six-membered rings are part of the structure's distinctive characteristics resembling the triterpenoid class. Additional functional groups and the specific placement of carbons help confirm the classification as a triterpenoid.\" confidence='HIGH'\nFalse diterpenoid CHEBI:93763 43 C43H53NO14\nchemical_class='other' explanation='This structure includes a complex polycyclic core with multiple oxygen functionalities, phenyl groups, and other ring systems that are not typical of simple terpenoids. It contains various functional groups like esters, lactones, and aromatic rings that suggest a more complex structure rather than a simple terpenoid. Therefore, it does not fit clearly into the common terpenoid categories such as monoterpenoid, sesquiterpenoid, or diterpenoid. The presence of the polycyclic structure with oxygen bridges is uncommon for these categories, aligning it more with complex alkaloids or other classes.' confidence='HIGH'\nFalse diterpenoid CHEBI:91594 47 C47H51NO14\nchemical_class='Other' explanation='The structure shown is complex with multiple aromatic rings, hydroxyl groups, and ester linkages, but it does not exhibit the typical branched carbon backbone structure characteristic of terpenoids based on isoprene units. Terpenoids typically consist of isoprene units (C5H8)n, which are not evident in this structure. Instead, this molecule features structural motifs suggesting it is more likely an alkaloid or other type of natural product.' confidence='HIGH'\nFalse diterpenoid CHEBI:8046 65 C65H104O31\nchemical_class='triterpenoid' explanation='The structure in the image is a complex molecule that features a steroid-like backbone which is characteristic of triterpenoids. This class typically consists of 30 carbon atoms, arranged in a structure derived from six isoprene units, and possesses a four-ring structure. In addition, the structure is attached to several glucose moieties, indicating a glycosidic form which is common in natural triterpenoids. The complexity and the distinct steroid-like framework suggest that this is a triterpenoid with a high confidence level.' confidence='HIGH'\nFalse diterpenoid CHEBI:80196 40 C40H48\nchemical_class='other' explanation='The structure in the image is of beta-carotene, which is a tetraterpenoid. It consists of eight isoprene units forming a long chain with alternating double bonds, typical of carotenoids. Terpenoids typically fall into categories of monoterpenoids (C10), sesquiterpenoids (C15), diterpenoids (C20), sesterterpenoids (C25), or triterpenoids (C30). Vitamin A precursors like beta-carotene are often classified as tetraterpenoids (C40), which does not fit into the traditional terpenoid categories listed.' confidence='HIGH'\nFalse diterpenoid CHEBI:80117 43 C43H70O11\nchemical_class='triterpenoid' explanation='The structure is a large molecule consisting of thirty carbon atoms, a characteristic of triterpenoids, formed by the polymerization of six isoprene units. It showcases multiple fused rings typical of triterpenoids with complex oxygen functionalities added, including carbonyls and ethers, which is common in biologically active triterpenoids.' confidence='HIGH'\nFalse diterpenoid CHEBI:79068 44 C44H64O24\nchemical_class='other' explanation='The structure shown is not a typical terpenoid. It consists of a central long-chain polyene structure with conjugated double bonds and terminal hexose sugars. This arrangement is characteristic of a carotenoid, specifically a xanthophyll due to the presence of oxygen-containing functional groups (multiple hydroxyl groups and carbonyl groups). Carotenoids like xanthophylls are classified separately from typical terpenoids due to their unique structure and function, even though they share a common isoprene derivation pathway. Hence, it falls into the \"other\" category rather than the specific terpenoid classes listed.' confidence='HIGH'\nTrue diterpenoid CHEBI:74030 40 C40H47NO12\nchemical_class='diterpenoid' explanation='The chemical structure displayed contains four isoprene units, consistent with diterpenoids, which are typically composed of 20 carbon atoms arranged in a structure derived from geranylgeranyl pyrophosphate. The core structure appears to be a complex carbocycle, a typical feature of diterpenoids, often observed in naturally occurring compounds derived from plants. The additional functional groups do not alter the classification as they are modifications often seen in natural product derivatives.' confidence='HIGH'\n</code>\n</pre> <pre>\n---------------------------------------------------------------------------\nBadRequestError                           Traceback (most recent call last)\nFile ~/Library/Caches/pypoetry/virtualenvs/aurelian-JldJeJhF-py3.11/lib/python3.11/site-packages/pydantic_ai/models/openai.py:228, in OpenAIModel._completions_create(self, messages, stream, model_settings, model_request_parameters)\n    227 try:\n--&gt; 228     return await self.client.chat.completions.create(\n    229         model=self._model_name,\n    230         messages=openai_messages,\n    231         n=1,\n    232         parallel_tool_calls=model_settings.get('parallel_tool_calls', NOT_GIVEN),\n    233         tools=tools or NOT_GIVEN,\n    234         tool_choice=tool_choice or NOT_GIVEN,\n    235         stream=stream,\n    236         stream_options={'include_usage': True} if stream else NOT_GIVEN,\n    237         max_tokens=model_settings.get('max_tokens', NOT_GIVEN),\n    238         temperature=model_settings.get('temperature', NOT_GIVEN),\n    239         top_p=model_settings.get('top_p', NOT_GIVEN),\n    240         timeout=model_settings.get('timeout', NOT_GIVEN),\n    241         seed=model_settings.get('seed', NOT_GIVEN),\n    242         presence_penalty=model_settings.get('presence_penalty', NOT_GIVEN),\n    243         frequency_penalty=model_settings.get('frequency_penalty', NOT_GIVEN),\n    244         logit_bias=model_settings.get('logit_bias', NOT_GIVEN),\n    245         reasoning_effort=model_settings.get('openai_reasoning_effort', NOT_GIVEN),\n    246     )\n    247 except APIStatusError as e:\n\nFile ~/Library/Caches/pypoetry/virtualenvs/aurelian-JldJeJhF-py3.11/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py:1927, in AsyncCompletions.create(self, messages, model, audio, frequency_penalty, function_call, functions, logit_bias, logprobs, max_completion_tokens, max_tokens, metadata, modalities, n, parallel_tool_calls, prediction, presence_penalty, reasoning_effort, response_format, seed, service_tier, stop, store, stream, stream_options, temperature, tool_choice, tools, top_logprobs, top_p, user, extra_headers, extra_query, extra_body, timeout)\n   1926 validate_response_format(response_format)\n-&gt; 1927 return await self._post(\n   1928     \"/chat/completions\",\n   1929     body=await async_maybe_transform(\n   1930         {\n   1931             \"messages\": messages,\n   1932             \"model\": model,\n   1933             \"audio\": audio,\n   1934             \"frequency_penalty\": frequency_penalty,\n   1935             \"function_call\": function_call,\n   1936             \"functions\": functions,\n   1937             \"logit_bias\": logit_bias,\n   1938             \"logprobs\": logprobs,\n   1939             \"max_completion_tokens\": max_completion_tokens,\n   1940             \"max_tokens\": max_tokens,\n   1941             \"metadata\": metadata,\n   1942             \"modalities\": modalities,\n   1943             \"n\": n,\n   1944             \"parallel_tool_calls\": parallel_tool_calls,\n   1945             \"prediction\": prediction,\n   1946             \"presence_penalty\": presence_penalty,\n   1947             \"reasoning_effort\": reasoning_effort,\n   1948             \"response_format\": response_format,\n   1949             \"seed\": seed,\n   1950             \"service_tier\": service_tier,\n   1951             \"stop\": stop,\n   1952             \"store\": store,\n   1953             \"stream\": stream,\n   1954             \"stream_options\": stream_options,\n   1955             \"temperature\": temperature,\n   1956             \"tool_choice\": tool_choice,\n   1957             \"tools\": tools,\n   1958             \"top_logprobs\": top_logprobs,\n   1959             \"top_p\": top_p,\n   1960             \"user\": user,\n   1961         },\n   1962         completion_create_params.CompletionCreateParams,\n   1963     ),\n   1964     options=make_request_options(\n   1965         extra_headers=extra_headers, extra_query=extra_query, extra_body=extra_body, timeout=timeout\n   1966     ),\n   1967     cast_to=ChatCompletion,\n   1968     stream=stream or False,\n   1969     stream_cls=AsyncStream[ChatCompletionChunk],\n   1970 )\n\nFile ~/Library/Caches/pypoetry/virtualenvs/aurelian-JldJeJhF-py3.11/lib/python3.11/site-packages/openai/_base_client.py:1862, in AsyncAPIClient.post(self, path, cast_to, body, files, options, stream, stream_cls)\n   1859 opts = FinalRequestOptions.construct(\n   1860     method=\"post\", url=path, json_data=body, files=await async_to_httpx_files(files), **options\n   1861 )\n-&gt; 1862 return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n\nFile ~/Library/Caches/pypoetry/virtualenvs/aurelian-JldJeJhF-py3.11/lib/python3.11/site-packages/openai/_base_client.py:1556, in AsyncAPIClient.request(self, cast_to, options, stream, stream_cls, remaining_retries)\n   1554     retries_taken = 0\n-&gt; 1556 return await self._request(\n   1557     cast_to=cast_to,\n   1558     options=options,\n   1559     stream=stream,\n   1560     stream_cls=stream_cls,\n   1561     retries_taken=retries_taken,\n   1562 )\n\nFile ~/Library/Caches/pypoetry/virtualenvs/aurelian-JldJeJhF-py3.11/lib/python3.11/site-packages/openai/_base_client.py:1657, in AsyncAPIClient._request(self, cast_to, options, stream, stream_cls, retries_taken)\n   1656     log.debug(\"Re-raising status error\")\n-&gt; 1657     raise self._make_status_error_from_response(err.response) from None\n   1659 return await self._process_response(\n   1660     cast_to=cast_to,\n   1661     options=options,\n   (...)\n   1665     retries_taken=retries_taken,\n   1666 )\n\nBadRequestError: Error code: 400 - {'error': {'message': 'Timeout while downloading https://www.ebi.ac.uk/chebi/displayImage.do?defaultImage=true&amp;imageIndex=0&amp;chebiId=71980.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_image_url'}}\n\nThe above exception was the direct cause of the following exception:\n\nModelHTTPError                            Traceback (most recent call last)\nCell In[46], line 22\n     12 q = (\n     13     f\"This structure is classified in CHEBI as a {c}, yet it has {cc} carbons.\"\n     14     f\" Its formula is {formula}.\"\n     15     f\" And its name is {structure.name}.\"\n     16     f\" Give the correct classification.\"\n     17 )\n     18 q = f\"\"\"What is the correct classification for this structure?\n     19 I suspect it is a terpenoid, in one of the following categories:\n     20 {\", \".join(CLASSES.keys())}.\n     21 \"\"\"\n---&gt; 22 result = agent.run_sync([q, img_url])\n     23 agrees = result.data.chemical_class.lower() == c.lower()\n     24 print(agrees, c, s, cc, formula)\n\nFile ~/Library/Caches/pypoetry/virtualenvs/aurelian-JldJeJhF-py3.11/lib/python3.11/site-packages/pydantic_ai/agent.py:541, in Agent.run_sync(self, user_prompt, result_type, message_history, model, deps, model_settings, usage_limits, usage, infer_name)\n    539 if infer_name and self.name is None:\n    540     self._infer_name(inspect.currentframe())\n--&gt; 541 return get_event_loop().run_until_complete(\n    542     self.run(\n    543         user_prompt,\n    544         result_type=result_type,\n    545         message_history=message_history,\n    546         model=model,\n    547         deps=deps,\n    548         model_settings=model_settings,\n    549         usage_limits=usage_limits,\n    550         usage=usage,\n    551         infer_name=False,\n    552     )\n    553 )\n\nFile ~/Library/Caches/pypoetry/virtualenvs/aurelian-JldJeJhF-py3.11/lib/python3.11/site-packages/nest_asyncio.py:98, in _patch_loop.&lt;locals&gt;.run_until_complete(self, future)\n     95 if not f.done():\n     96     raise RuntimeError(\n     97         'Event loop stopped before Future completed.')\n---&gt; 98 return f.result()\n\nFile /opt/homebrew/Cellar/python@3.11/3.11.9/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/futures.py:203, in Future.result(self)\n    201 self.__log_traceback = False\n    202 if self._exception is not None:\n--&gt; 203     raise self._exception.with_traceback(self._exception_tb)\n    204 return self._result\n\nFile /opt/homebrew/Cellar/python@3.11/3.11.9/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/tasks.py:277, in Task.__step(***failed resolving arguments***)\n    273 try:\n    274     if exc is None:\n    275         # We use the `send` method directly, because coroutines\n    276         # don't have `__iter__` and `__next__` methods.\n--&gt; 277         result = coro.send(None)\n    278     else:\n    279         result = coro.throw(exc)\n\nFile ~/Library/Caches/pypoetry/virtualenvs/aurelian-JldJeJhF-py3.11/lib/python3.11/site-packages/pydantic_ai/agent.py:307, in Agent.run(self, user_prompt, result_type, message_history, model, deps, model_settings, usage_limits, usage, infer_name)\n    296     self._infer_name(inspect.currentframe())\n    297 with self.iter(\n    298     user_prompt=user_prompt,\n    299     result_type=result_type,\n   (...)\n    305     usage=usage,\n    306 ) as agent_run:\n--&gt; 307     async for _ in agent_run:\n    308         pass\n    310 assert (final_result := agent_run.result) is not None, 'The graph run did not finish properly'\n\nFile ~/Library/Caches/pypoetry/virtualenvs/aurelian-JldJeJhF-py3.11/lib/python3.11/site-packages/pydantic_ai/agent.py:1298, in AgentRun.__anext__(self)\n   1287 async def __anext__(\n   1288     self,\n   1289 ) -&gt; (\n   (...)\n   1295     | End[FinalResult[ResultDataT]]\n   1296 ):\n   1297     \"\"\"Advance to the next node automatically based on the last returned node.\"\"\"\n-&gt; 1298     return await self._graph_run.__anext__()\n\nFile ~/Library/Caches/pypoetry/virtualenvs/aurelian-JldJeJhF-py3.11/lib/python3.11/site-packages/pydantic_graph/graph.py:737, in GraphRun.__anext__(self)\n    735 if isinstance(self._next_node, End):\n    736     raise StopAsyncIteration\n--&gt; 737 return await self.next(self._next_node)\n\nFile ~/Library/Caches/pypoetry/virtualenvs/aurelian-JldJeJhF-py3.11/lib/python3.11/site-packages/pydantic_graph/graph.py:726, in GraphRun.next(self, node)\n    723 state = self.state\n    724 deps = self.deps\n--&gt; 726 self._next_node = await self.graph.next(node, history, state=state, deps=deps, infer_name=False)\n    728 return self._next_node\n\nFile ~/Library/Caches/pypoetry/virtualenvs/aurelian-JldJeJhF-py3.11/lib/python3.11/site-packages/pydantic_graph/graph.py:305, in Graph.next(self, node, history, state, deps, infer_name)\n    303     start_ts = _utils.now_utc()\n    304     start = perf_counter()\n--&gt; 305     next_node = await node.run(ctx)\n    306     duration = perf_counter() - start\n    308 history.append(\n    309     NodeStep(state=state, node=node, start_ts=start_ts, duration=duration, snapshot_state=self.snapshot_state)\n    310 )\n\nFile ~/Library/Caches/pypoetry/virtualenvs/aurelian-JldJeJhF-py3.11/lib/python3.11/site-packages/pydantic_ai/_agent_graph.py:237, in ModelRequestNode.run(self, ctx)\n    232 if self._did_stream:\n    233     # `self._result` gets set when exiting the `stream` contextmanager, so hitting this\n    234     # means that the stream was started but not finished before `run()` was called\n    235     raise exceptions.AgentRunError('You must finish streaming before calling run()')\n--&gt; 237 return await self._make_request(ctx)\n\nFile ~/Library/Caches/pypoetry/virtualenvs/aurelian-JldJeJhF-py3.11/lib/python3.11/site-packages/pydantic_ai/_agent_graph.py:275, in ModelRequestNode._make_request(self, ctx)\n    273 model_settings, model_request_parameters = await self._prepare_request(ctx)\n    274 with _logfire.span('model request', run_step=ctx.state.run_step) as span:\n--&gt; 275     model_response, request_usage = await ctx.deps.model.request(\n    276         ctx.state.message_history, model_settings, model_request_parameters\n    277     )\n    278     ctx.state.usage.incr(_usage.Usage(), requests=1)\n    279     span.set_attribute('response', model_response)\n\nFile ~/Library/Caches/pypoetry/virtualenvs/aurelian-JldJeJhF-py3.11/lib/python3.11/site-packages/pydantic_ai/models/openai.py:156, in OpenAIModel.request(self, messages, model_settings, model_request_parameters)\n    149 async def request(\n    150     self,\n    151     messages: list[ModelMessage],\n    152     model_settings: ModelSettings | None,\n    153     model_request_parameters: ModelRequestParameters,\n    154 ) -&gt; tuple[ModelResponse, usage.Usage]:\n    155     check_allow_model_requests()\n--&gt; 156     response = await self._completions_create(\n    157         messages, False, cast(OpenAIModelSettings, model_settings or {}), model_request_parameters\n    158     )\n    159     return self._process_response(response), _map_usage(response)\n\nFile ~/Library/Caches/pypoetry/virtualenvs/aurelian-JldJeJhF-py3.11/lib/python3.11/site-packages/pydantic_ai/models/openai.py:249, in OpenAIModel._completions_create(self, messages, stream, model_settings, model_request_parameters)\n    247 except APIStatusError as e:\n    248     if (status_code := e.status_code) &gt;= 400:\n--&gt; 249         raise ModelHTTPError(status_code=status_code, model_name=self.model_name, body=e.body) from e\n    250     raise\n\nModelHTTPError: status_code: 400, model_name: gpt-4o, body: {'message': 'Timeout while downloading https://www.ebi.ac.uk/chebi/displayImage.do?defaultImage=true&amp;imageIndex=0&amp;chebiId=71980.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_image_url'}</pre> <pre><code>print(\"Done\")\n</code></pre> <pre>\n<code>Done\n</code>\n</pre> <pre><code>len([r for r in results if r[0]])\n</code></pre> <pre>\n<code>43</code>\n</pre> <pre><code>import pandas as pd\n</code></pre> <pre><code>df = pd.DataFrame(results, columns=[\"agrees\", \"expected\", \"structure\", \"question\", \"result\"])\n</code></pre> <pre><code>df\n</code></pre> agrees expected structure question result 0 True triterpenoid CHEBI:9771 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... 1 True triterpenoid CHEBI:9110 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... 2 True triterpenoid CHEBI:74453 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... 3 True triterpenoid CHEBI:74448 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... 4 True triterpenoid CHEBI:69373 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... ... ... ... ... ... ... 102 False diterpenoid CHEBI:8046 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... 103 False diterpenoid CHEBI:80196 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... 104 False diterpenoid CHEBI:80117 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... 105 False diterpenoid CHEBI:79068 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... 106 True diterpenoid CHEBI:74030 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... <p>107 rows \u00d7 5 columns</p> <pre><code>IMG_URL_TMPL = \"https://www.ebi.ac.uk/chebi/displayImage.do?defaultImage=true&amp;amp;imageIndex=0&amp;amp;chebiId={n}\"\n\n\ndef img_url(chebi_id: str) -&amp;gt; str:\n    url = IMG_URL_TMPL.format(n=chebi_id.replace(\"CHEBI:\", \"\"))\n    return f'&lt;img alt=\"No description has been provided for this image\" onerror=\"this.style.display=\\'none\\';\" src=\"{url}\" style=\"max-height: 100px; object-fit: contain; display: block; margin: auto;\" width=\"120\"/&gt;'\n\n\ndef cell_div(text: str, img: str) -&amp;gt; str:\n    return f'''\n        &lt;div style=\"display: flex; flex-direction: column; align-items: center; text-align: center;\"&gt;\n&lt;span style=\"font-size: 12px; margin-bottom: 5px;\"&gt;{text}&lt;/span&gt;\n            {img}\n        &lt;/div&gt;\n        '''\n\ndef cell_from_row(row):\n    return cell_div(chebi.label(row[\"structure\"]), img_url(row[\"structure\"]))\n</code></pre> <pre><code>df[\"img\"] = df.apply(cell_from_row, axis=1)\n</code></pre> <pre><code>df[\"llm_classification\"] = df[\"result\"].apply(lambda r: r.data.chemical_class)\ndf[\"llm_explanation\"] = df[\"result\"].apply(lambda r: r.data.explanation)\n</code></pre> <pre><code>df\n</code></pre> agrees expected structure question result img llm_classification llm_explanation 0 True triterpenoid CHEBI:9771 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... \\n        &lt;div style=\"display: flex; flex-dire... triterpenoid The chemical structure in the image shows a la... 1 True triterpenoid CHEBI:9110 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... \\n        &lt;div style=\"display: flex; flex-dire... triterpenoid The structure displayed consists of 30 carbon ... 2 True triterpenoid CHEBI:74453 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... \\n        &lt;div style=\"display: flex; flex-dire... triterpenoid The structure displayed contains a series of s... 3 True triterpenoid CHEBI:74448 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... \\n        &lt;div style=\"display: flex; flex-dire... triterpenoid This chemical structure can be classified as a... 4 True triterpenoid CHEBI:69373 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... \\n        &lt;div style=\"display: flex; flex-dire... triterpenoid The structure provided is quite complex, featu... ... ... ... ... ... ... ... ... ... 102 False diterpenoid CHEBI:8046 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... \\n        &lt;div style=\"display: flex; flex-dire... triterpenoid The structure in the image is a complex molecu... 103 False diterpenoid CHEBI:80196 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... \\n        &lt;div style=\"display: flex; flex-dire... other The structure in the image is of beta-carotene... 104 False diterpenoid CHEBI:80117 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... \\n        &lt;div style=\"display: flex; flex-dire... triterpenoid The structure is a large molecule consisting o... 105 False diterpenoid CHEBI:79068 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... \\n        &lt;div style=\"display: flex; flex-dire... other The structure shown is not a typical terpenoid... 106 True diterpenoid CHEBI:74030 What is the correct classification for this st... AgentRunResult(data=Classification(chemical_cl... \\n        &lt;div style=\"display: flex; flex-dire... diterpenoid The chemical structure displayed contains four... <p>107 rows \u00d7 8 columns</p> <pre><code>!mkdir -p output\n</code></pre> <pre><code>df[[\n    \"agrees\",\n    \"expected\",\n    \"structure\",\n    \"img\",\n    \"llm_classification\",\n    \"llm_explanation\",\n]].to_html(\"output/terpenoids.html\", escape=False, render_links=True, index=False)\n</code></pre> <pre><code>df.to_csv(\"output/terpenoids.csv\", index=False)\n</code></pre> <pre><code>df.to_markdown(\"output/terpenoids.md\", index=False, tablefmt=\"github\")\n</code></pre> <pre><code>orig_results = results\n</code></pre> <pre><code>\n</code></pre>"}]}